<!DOCTYPE html>
<html data-html-server-rendered="true" lang="en" class="h-full" data-vue-tag="lang,class">
  <head>
    <title data-vue-tag="true">Redis University RU101 - Minggu Ke-2 </title><meta data-vue-tag="true" charset="utf-8"><meta data-vue-tag="true" name="generator" content="Gridsome v0.6.7"><meta data-vue-tag="true" data-key="viewport" name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover"><meta data-vue-tag="true" data-key="format-detection" name="format-detection" content="telephone=no"><meta data-vue-tag="true" data-key="description" name="description" content="Catatan kelas Redis University RU101 minggu ke-2"><meta data-vue-tag="true" property="og:type" content="article"><meta data-vue-tag="true" property="og:title" content="Redis University RU101 - Minggu Ke-2"><meta data-vue-tag="true" property="og:description" content="Catatan kelas Redis University RU101 minggu ke-2"><meta data-vue-tag="true" property="og:url" content="https://blog.emsifa.com/redis-university-ru101-minggu-ke-2/"><meta data-vue-tag="true" property="article:published_time" content="2019-08-20"><meta data-vue-tag="true" property="og:image" content="https://blog.emsifa.com/images/posts/ru101-w2-cover.png"><meta data-vue-tag="true" name="twitter:card" content="summary_large_image"><meta data-vue-tag="true" name="twitter:title" content="Redis University RU101 - Minggu Ke-2"><meta data-vue-tag="true" name="twitter:description" content="Catatan kelas Redis University RU101 minggu ke-2"><meta data-vue-tag="true" name="twitter:site" content="@cossssmin"><meta data-vue-tag="true" name="twitter:creator" content="@cossssmin"><meta data-vue-tag="true" name="twitter:image" content="/images/posts/ru101-w2-cover.png"><link data-vue-tag="true" rel="icon" type="image/png" sizes="16x16" href="/assets/static/favicon.ce0531f.74da076.png"><link data-vue-tag="true" rel="icon" type="image/png" sizes="32x32" href="/assets/static/favicon.ac8d93a.74da076.png"><link data-vue-tag="true" rel="apple-touch-icon" type="image/png" sizes="48x48" href="/assets/static/favicon.f8b3168.74da076.png"><noscript data-vue-tag="true" ><style>.g-image--loading{display:none;}</style></noscript><link rel="preload" href="/assets/css/7.styles.3c5e2248.css" as="style"><link rel="preload" href="/assets/js/app.ded7e0fa.js" as="script"><link rel="preload" href="/assets/js/page--src-templates-post-vue.b0d7aad4.js" as="script"><link rel="prefetch" href="/assets/js/9.ef6083f0.js"><link rel="prefetch" href="/assets/js/page--src-pages-404-vue.71a5a466.js"><link rel="prefetch" href="/assets/js/page--src-pages-index-vue.62e2f779.js"><link rel="prefetch" href="/assets/js/page--src-templates-author-vue.879728be.js"><link rel="prefetch" href="/assets/js/page--src-templates-tag-vue.c34a47f0.js"><link rel="prefetch" href="/assets/js/vendors~page--src-pages-index-vue~page--src-templates-author-vue~page--src-templates-post-vue~page--~ed3ac5eb.0bdbde02.js"><link rel="prefetch" href="/assets/js/vendors~page--src-templates-post-vue.0f12d6b5.js"><link rel="stylesheet" href="/assets/css/7.styles.3c5e2248.css">
  </head>
  <body class="antialiased" data-vue-tag="class">
    <div data-server-rendered="true" id="app"><main><header><div class="pt-24"><h1 class="text-4xl sm:text-5xl md:text-6xl font-sans font-bold mb-1"><a href="/" class="text-black w-full inline-block text-center active"><img src="/images/logo.png" alt="Logo" class="inline" style="height:100px;"></a></h1><div class="max-w-xl md:max-w-3xl xl:max-w-4xl mx-auto text-center px-6"><h1 class="text-3xl sm:text-5xl leading-tight font-sans font-bold mb-4 text-gray-700">Redis University RU101 - Minggu Ke-2</h1><p class="text-gray-700"><time datetime="2019-08-17 08:00:00" class="capitalize">17 August 2019</time>
        â€¢
        <span>7 min read</span></p><p class="text-gray-700 text-xs mt-2 uppercase"></p><img src="/images/posts/ru101-w2-cover.png" alt="Redis University RU101 - Minggu Ke-2" class="mt-12"></div></div></header><article class="max-w-xl md:max-w-2xl xl:max-w-3xl mx-auto px-6 sm:px-12 pt-16 pb-16"><!----><div class="markdown text-lg leading-normal text-gray-700 pb-10"><p>Ini adalah catatan minggu ke-2 dari kelas RU101 (Introduction to Redis Data Structure) di Redis University.
Buat yang belum tau apa itu Redis University, saya sudah bahas di catatan <a href="/redis-university-ru101-minggu-pertama/">minggu pertama</a>.</p>
<p>Pada minggu pertama yang dibahas adalah tentang data struktur apa saja yang terdapat pada Redis,
pada minggu ke-2 ini pembahasannya adalah:</p>
<ol>
<li>Cardinality and Capped Collections</li>
<li>Set Operations</li>
<li>Faceted Search</li>
<li>Performance &#x26; Big O Notation</li>
</ol>
<h2 id="1-cardinality-and-capped-collections"><a href="#1-cardinality-and-capped-collections" aria-hidden="true"><span class="icon icon-link"></span></a>1. Cardinality and Capped Collections</h2>
<h4 id="cardinality"><a href="#cardinality" aria-hidden="true"><span class="icon icon-link"></span></a>Cardinality</h4>
<p>Untuk mengecek cardinality dari data di Redis, perintah yang dapat digunakan adalah:</p>
<ul>
<li><code class="shiki-inline" style="background: #2e3440; color: #d8dee9">LLEN</code>: untuk list</li>
<li><code class="shiki-inline" style="background: #2e3440; color: #d8dee9">SCARD</code>: untuk set</li>
<li><code class="shiki-inline" style="background: #2e3440; color: #d8dee9">ZCARD</code>: untuk sorted set</li>
</ul>
<p>Contoh:</p>
<pre class="shiki" style="background-color: #2e3440"><code><span style="color: #D8DEE9FF">RPUSH mylist 1 2 3 4 5  </span><span style="color: #4C566A"># set 5 item ke mylist</span>
<span style="color: #D8DEE9FF">LLEN mylist             </span><span style="color: #4C566A"># mengambil banyak item di mylist</span>
<span style="color: #ECEFF4">(</span><span style="color: #D8DEE9FF">integer</span><span style="color: #ECEFF4">)</span><span style="color: #D8DEE9FF"> 5 </span>

<span style="color: #D8DEE9FF">SADD myset foo bar baz qux qux </span><span style="color: #4C566A"># menambahkan item ke myset</span>
<span style="color: #D8DEE9FF">SCARD myset                    </span><span style="color: #4C566A"># mengambil banyak item di myset</span>
<span style="color: #ECEFF4">(</span><span style="color: #D8DEE9FF">integer</span><span style="color: #ECEFF4">)</span><span style="color: #D8DEE9FF"> 4 </span><span style="color: #4C566A"># hasilnya 4 karena set hanya menyimpan string unik, jadi qux ke2 tidak ditambahkan</span>

<span style="color: #D8DEE9FF">ZADD mysortedset 1 foo 2 bar 3 baz 4 qux 5 qux </span><span style="color: #4C566A"># menambahkan item ke mysortedset</span>
<span style="color: #D8DEE9FF">ZCARD mysortedset                              </span><span style="color: #4C566A"># mengambil banyak item di mysortedset</span>
<span style="color: #ECEFF4">(</span><span style="color: #D8DEE9FF">integer</span><span style="color: #ECEFF4">)</span><span style="color: #D8DEE9FF"> 4 </span><span style="color: #4C566A"># hasilnya 4 karena alasan yg sama dengan set</span></code></pre>
<h4 id="capped-collections"><a href="#capped-collections" aria-hidden="true"><span class="icon icon-link"></span></a>Capped Collections</h4>
<p>Capped collections adalah list/sorted set yang sebagian nilainya telah dihapus/dipotong.</p>
<p>Ada beberapa perintah untuk memotong sebagian item didalam list dan sorted set:</p>
<ul>
<li><code class="shiki-inline" style="background: #2e3440; color: #d8dee9">LTRIM</code>: untuk <strong>mengambil</strong> item di range index tertentu pada list (sisanya dihapus).</li>
<li><code class="shiki-inline" style="background: #2e3440; color: #d8dee9">ZREMRANGEBYRANK</code>: untuk <strong>menghapus</strong> item di range index tertentu pada sorted set.</li>
</ul>
<p>Contoh <code class="shiki-inline" style="background: #2e3440; color: #d8dee9">LTRIM</code>:</p>
<pre class="shiki" style="background-color: #2e3440"><code><span style="color: #D8DEE9FF">RPUSH numbers 1 2 3 4 5 6 7 8 9 10 </span><span style="color: #4C566A"># set numbers</span>
<span style="color: #D8DEE9FF">LTRIM numbers 0 -3                 </span><span style="color: #4C566A"># ambil dari index 0 sampai dengan index terakhir - 3</span>
<span style="color: #D8DEE9FF">LRANGE numbers 0 -1                </span><span style="color: #4C566A"># ambil semua numbers (setelah dipotong)</span>
<span style="color: #D8DEE9FF">1) </span><span style="color: #ECEFF4">"</span><span style="color: #A3BE8C">1</span><span style="color: #ECEFF4">"</span>
<span style="color: #D8DEE9FF">2) </span><span style="color: #ECEFF4">"</span><span style="color: #A3BE8C">2</span><span style="color: #ECEFF4">"</span>
<span style="color: #D8DEE9FF">3) </span><span style="color: #ECEFF4">"</span><span style="color: #A3BE8C">3</span><span style="color: #ECEFF4">"</span>
<span style="color: #D8DEE9FF">4) </span><span style="color: #ECEFF4">"</span><span style="color: #A3BE8C">4</span><span style="color: #ECEFF4">"</span>
<span style="color: #D8DEE9FF">5) </span><span style="color: #ECEFF4">"</span><span style="color: #A3BE8C">5</span><span style="color: #ECEFF4">"</span>
<span style="color: #D8DEE9FF">6) </span><span style="color: #ECEFF4">"</span><span style="color: #A3BE8C">6</span><span style="color: #ECEFF4">"</span>
<span style="color: #D8DEE9FF">7) </span><span style="color: #ECEFF4">"</span><span style="color: #A3BE8C">7</span><span style="color: #ECEFF4">"</span>
<span style="color: #D8DEE9FF">8) </span><span style="color: #ECEFF4">"</span><span style="color: #A3BE8C">8</span><span style="color: #ECEFF4">"</span>

<span style="color: #D8DEE9FF">LTRIM -5 -1 </span><span style="color: #4C566A"># mengambil 5 item terakhir</span>
<span style="color: #D8DEE9FF">LRANGE numbers 0 -1</span>
<span style="color: #D8DEE9FF">1) </span><span style="color: #ECEFF4">"</span><span style="color: #A3BE8C">4</span><span style="color: #ECEFF4">"</span>
<span style="color: #D8DEE9FF">2) </span><span style="color: #ECEFF4">"</span><span style="color: #A3BE8C">5</span><span style="color: #ECEFF4">"</span>
<span style="color: #D8DEE9FF">3) </span><span style="color: #ECEFF4">"</span><span style="color: #A3BE8C">6</span><span style="color: #ECEFF4">"</span>
<span style="color: #D8DEE9FF">4) </span><span style="color: #ECEFF4">"</span><span style="color: #A3BE8C">7</span><span style="color: #ECEFF4">"</span>
<span style="color: #D8DEE9FF">5) </span><span style="color: #ECEFF4">"</span><span style="color: #A3BE8C">8</span><span style="color: #ECEFF4">"</span></code></pre>
<p>Contoh <code class="shiki-inline" style="background: #2e3440; color: #d8dee9">ZREMRANGEBYRANK</code>:</p>
<pre class="shiki" style="background-color: #2e3440"><code><span style="color: #D8DEE9FF">ZADD letters 1 a 2 b 3 c 4 d 5 f 6 g 7 h  </span><span style="color: #4C566A"># set letters</span>
<span style="color: #D8DEE9FF">ZREMRANGEBYRANK letters -2 -1             </span><span style="color: #4C566A"># hapus 2 item terakhir</span>
<span style="color: #D8DEE9FF">ZRANGE letters 0 -1</span>
<span style="color: #D8DEE9FF">1) </span><span style="color: #ECEFF4">"</span><span style="color: #A3BE8C">a</span><span style="color: #ECEFF4">"</span>
<span style="color: #D8DEE9FF">2) </span><span style="color: #ECEFF4">"</span><span style="color: #A3BE8C">b</span><span style="color: #ECEFF4">"</span>
<span style="color: #D8DEE9FF">3) </span><span style="color: #ECEFF4">"</span><span style="color: #A3BE8C">c</span><span style="color: #ECEFF4">"</span>
<span style="color: #D8DEE9FF">4) </span><span style="color: #ECEFF4">"</span><span style="color: #A3BE8C">d</span><span style="color: #ECEFF4">"</span>
<span style="color: #D8DEE9FF">5) </span><span style="color: #ECEFF4">"</span><span style="color: #A3BE8C">f</span><span style="color: #ECEFF4">"</span>

<span style="color: #D8DEE9FF">ZREMRANGEBYRANK letters 0 2 </span><span style="color: #4C566A"># hapus 3 item pertama (index: 0, 1, 2)</span>
<span style="color: #D8DEE9FF">1) </span><span style="color: #ECEFF4">"</span><span style="color: #A3BE8C">d</span><span style="color: #ECEFF4">"</span><span style="color: #D8DEE9FF">                                                                                                             2) </span><span style="color: #ECEFF4">"</span><span style="color: #A3BE8C">f</span><span style="color: #ECEFF4">"</span></code></pre>
<h2 id="2-set-operations-with-sets-and-sorted-sets"><a href="#2-set-operations-with-sets-and-sorted-sets" aria-hidden="true"><span class="icon icon-link"></span></a>2. Set Operations with Sets and Sorted Sets</h2>
<p>Pada bagian ini dicontohkan cara menggunakan <code class="shiki-inline" style="background: #2e3440; color: #d8dee9">ZINTERSTORE</code> dan <code class="shiki-inline" style="background: #2e3440; color: #d8dee9">ZETUNIONSTORE</code> untuk menyimpan hasil <em>intersect</em> dan <em>union</em> kedalam key lain.</p>
<p>Contoh <code class="shiki-inline" style="background: #2e3440; color: #d8dee9">ZINTERSTORE</code>: </p>
<pre class="shiki" style="background-color: #2e3440"><code><span style="color: #D8DEE9FF">ZADD l1 1 a 2 b 3 c 4 d 5 f </span><span style="color: #4C566A"># buat sorted set l1</span>
<span style="color: #D8DEE9FF">ZADD l2 1 a 2 b 3 e 5 x 6 z </span><span style="color: #4C566A"># buat sorted set l2</span>

<span style="color: #D8DEE9FF">ZINTERSTORE l3 2 l1 l2      </span><span style="color: #4C566A"># simpan hasil intersect l1 dan l2 kedalam l3</span>
<span style="color: #D8DEE9FF">ZRANGE l3 0 -1 WITHSCORES </span><span style="color: #4C566A"># melihat semua isi l3</span>
<span style="color: #D8DEE9FF">1) </span><span style="color: #ECEFF4">"</span><span style="color: #A3BE8C">a</span><span style="color: #ECEFF4">"</span><span style="color: #D8DEE9FF"> </span><span style="color: #4C566A"># nilai i(0)</span>
<span style="color: #D8DEE9FF">2) </span><span style="color: #ECEFF4">"</span><span style="color: #A3BE8C">2</span><span style="color: #ECEFF4">"</span><span style="color: #D8DEE9FF"> </span><span style="color: #4C566A"># score i(0)</span>
<span style="color: #D8DEE9FF">3) </span><span style="color: #ECEFF4">"</span><span style="color: #A3BE8C">b</span><span style="color: #ECEFF4">"</span><span style="color: #D8DEE9FF"> </span><span style="color: #4C566A"># nilai i(1)</span>
<span style="color: #D8DEE9FF">4) </span><span style="color: #ECEFF4">"</span><span style="color: #A3BE8C">4</span><span style="color: #ECEFF4">"</span><span style="color: #D8DEE9FF"> </span><span style="color: #4C566A"># score i(1)</span></code></pre>
<p>Sebagai catatan <code class="shiki-inline" style="background: #2e3440; color: #d8dee9">l3 2 l1 l2</code>, <code class="shiki-inline" style="background: #2e3440; color: #d8dee9">2</code> yang dimaksud disitu adalah banyak key yang mau di-<em>intersect</em>,
karena disitu yang di-<em>intersect</em> adalah <code class="shiki-inline" style="background: #2e3440; color: #d8dee9">l1</code> dan <code class="shiki-inline" style="background: #2e3440; color: #d8dee9">l2</code>, berarti banyak keynya adalah 2.</p>
<p>Dokumentasi selengkapnya <code class="shiki-inline" style="background: #2e3440; color: #d8dee9">ZINTERSTORE</code> bisa dilihat <a href="https://redis.io/commands/zinterstore" target="_blank" rel="nofollow noopener noreferrer">disini</a>.</p>
<p>Contoh <code class="shiki-inline" style="background: #2e3440; color: #d8dee9">ZUNIONSTORE</code>:</p>
<pre class="shiki" style="background-color: #2e3440"><code><span style="color: #D8DEE9FF">ZADD l1 1 a 2 b 3 c 4 d 5 f </span><span style="color: #4C566A"># buat sorted set l1</span>
<span style="color: #D8DEE9FF">ZADD l2 1 a 2 b 3 e 5 x 6 z </span><span style="color: #4C566A"># buat sorted set l2</span>

<span style="color: #D8DEE9FF">ZUNIONSTORE l3 2 l1 l2      </span><span style="color: #4C566A"># simpan hasil union l1 dan l2 kedalam l3</span>
<span style="color: #D8DEE9FF">ZRANGE l3 0 -1 WITHSCORES </span><span style="color: #4C566A"># melihat semua isi l3</span>
<span style="color: #D8DEE9FF"> 1) </span><span style="color: #ECEFF4">"</span><span style="color: #A3BE8C">a</span><span style="color: #ECEFF4">"</span>
<span style="color: #D8DEE9FF"> 2) </span><span style="color: #ECEFF4">"</span><span style="color: #A3BE8C">2</span><span style="color: #ECEFF4">"</span><span style="color: #D8DEE9FF"> </span><span style="color: #4C566A"># skor si a, jadi 2 karena skornya ditambahkan antara skor a di l1 dan skor a di l2</span>
<span style="color: #D8DEE9FF"> 3) </span><span style="color: #ECEFF4">"</span><span style="color: #A3BE8C">c</span><span style="color: #ECEFF4">"</span>
<span style="color: #D8DEE9FF"> 4) </span><span style="color: #ECEFF4">"</span><span style="color: #A3BE8C">3</span><span style="color: #ECEFF4">"</span><span style="color: #D8DEE9FF"> </span><span style="color: #4C566A"># skor si c</span>
<span style="color: #D8DEE9FF"> 5) </span><span style="color: #ECEFF4">"</span><span style="color: #A3BE8C">e</span><span style="color: #ECEFF4">"</span>
<span style="color: #D8DEE9FF"> 6) </span><span style="color: #ECEFF4">"</span><span style="color: #A3BE8C">3</span><span style="color: #ECEFF4">"</span><span style="color: #D8DEE9FF"> </span><span style="color: #4C566A"># skor si d</span>
<span style="color: #D8DEE9FF"> 7) </span><span style="color: #ECEFF4">"</span><span style="color: #A3BE8C">b</span><span style="color: #ECEFF4">"</span>
<span style="color: #D8DEE9FF"> 8) </span><span style="color: #ECEFF4">"</span><span style="color: #A3BE8C">4</span><span style="color: #ECEFF4">"</span><span style="color: #D8DEE9FF"> </span><span style="color: #4C566A"># skor si b</span>
<span style="color: #D8DEE9FF"> 9) </span><span style="color: #ECEFF4">"</span><span style="color: #A3BE8C">d</span><span style="color: #ECEFF4">"</span>
<span style="color: #D8DEE9FF">10) </span><span style="color: #ECEFF4">"</span><span style="color: #A3BE8C">4</span><span style="color: #ECEFF4">"</span><span style="color: #D8DEE9FF"> </span><span style="color: #4C566A"># skor si d</span>
<span style="color: #D8DEE9FF">11) </span><span style="color: #ECEFF4">"</span><span style="color: #A3BE8C">f</span><span style="color: #ECEFF4">"</span>
<span style="color: #D8DEE9FF">12) </span><span style="color: #ECEFF4">"</span><span style="color: #A3BE8C">5</span><span style="color: #ECEFF4">"</span><span style="color: #D8DEE9FF"> </span><span style="color: #4C566A"># skor si f</span>
<span style="color: #D8DEE9FF">13) </span><span style="color: #ECEFF4">"</span><span style="color: #A3BE8C">x</span><span style="color: #ECEFF4">"</span>
<span style="color: #D8DEE9FF">14) </span><span style="color: #ECEFF4">"</span><span style="color: #A3BE8C">5</span><span style="color: #ECEFF4">"</span><span style="color: #D8DEE9FF"> </span><span style="color: #4C566A"># skor si x</span>
<span style="color: #D8DEE9FF">15) </span><span style="color: #ECEFF4">"</span><span style="color: #A3BE8C">z</span><span style="color: #ECEFF4">"</span>
<span style="color: #D8DEE9FF">16) </span><span style="color: #ECEFF4">"</span><span style="color: #A3BE8C">6</span><span style="color: #ECEFF4">"</span><span style="color: #D8DEE9FF"> </span><span style="color: #4C566A"># skor si y</span>

<span style="color: #D8DEE9FF">ZUNIONSTORE l3 2 l1 l2 AGGREGATE MIN  </span><span style="color: #4C566A"># simpan hasil union l1 dan l2 kedalam l3</span>
<span style="color: #D8DEE9FF">ZRANGE l3 0 -1 WITHSCORES </span><span style="color: #4C566A"># melihat semua isi l3</span>
<span style="color: #D8DEE9FF"> 1) </span><span style="color: #ECEFF4">"</span><span style="color: #A3BE8C">a</span><span style="color: #ECEFF4">"</span>
<span style="color: #D8DEE9FF"> 2) </span><span style="color: #ECEFF4">"</span><span style="color: #A3BE8C">1</span><span style="color: #ECEFF4">"</span><span style="color: #D8DEE9FF"> </span><span style="color: #4C566A"># skor si a, paling kecilnya 1</span>
<span style="color: #D8DEE9FF"> 3) </span><span style="color: #ECEFF4">"</span><span style="color: #A3BE8C">b</span><span style="color: #ECEFF4">"</span>
<span style="color: #D8DEE9FF"> 4) </span><span style="color: #ECEFF4">"</span><span style="color: #A3BE8C">2</span><span style="color: #ECEFF4">"</span><span style="color: #D8DEE9FF"> </span><span style="color: #4C566A"># skor si b</span>
<span style="color: #D8DEE9FF"> 5) </span><span style="color: #ECEFF4">"</span><span style="color: #A3BE8C">c</span><span style="color: #ECEFF4">"</span>
<span style="color: #D8DEE9FF"> 6) </span><span style="color: #ECEFF4">"</span><span style="color: #A3BE8C">3</span><span style="color: #ECEFF4">"</span><span style="color: #D8DEE9FF"> </span><span style="color: #4C566A"># skor si c</span>
<span style="color: #D8DEE9FF"> 7) </span><span style="color: #ECEFF4">"</span><span style="color: #A3BE8C">e</span><span style="color: #ECEFF4">"</span><span style="color: #D8DEE9FF"> </span>
<span style="color: #D8DEE9FF"> 8) </span><span style="color: #ECEFF4">"</span><span style="color: #A3BE8C">3</span><span style="color: #ECEFF4">"</span><span style="color: #D8DEE9FF"> </span><span style="color: #4C566A"># skor si e</span>
<span style="color: #D8DEE9FF"> 9) </span><span style="color: #ECEFF4">"</span><span style="color: #A3BE8C">d</span><span style="color: #ECEFF4">"</span>
<span style="color: #D8DEE9FF">10) </span><span style="color: #ECEFF4">"</span><span style="color: #A3BE8C">4</span><span style="color: #ECEFF4">"</span><span style="color: #D8DEE9FF"> </span><span style="color: #4C566A"># skor si d</span>
<span style="color: #D8DEE9FF">11) </span><span style="color: #ECEFF4">"</span><span style="color: #A3BE8C">f</span><span style="color: #ECEFF4">"</span>
<span style="color: #D8DEE9FF">12) </span><span style="color: #ECEFF4">"</span><span style="color: #A3BE8C">5</span><span style="color: #ECEFF4">"</span><span style="color: #D8DEE9FF"> </span><span style="color: #4C566A"># skor si f</span>
<span style="color: #D8DEE9FF">13) </span><span style="color: #ECEFF4">"</span><span style="color: #A3BE8C">x</span><span style="color: #ECEFF4">"</span>
<span style="color: #D8DEE9FF">14) </span><span style="color: #ECEFF4">"</span><span style="color: #A3BE8C">5</span><span style="color: #ECEFF4">"</span><span style="color: #D8DEE9FF"> </span><span style="color: #4C566A"># skor si x</span>
<span style="color: #D8DEE9FF">15) </span><span style="color: #ECEFF4">"</span><span style="color: #A3BE8C">z</span><span style="color: #ECEFF4">"</span>
<span style="color: #D8DEE9FF">16) </span><span style="color: #ECEFF4">"</span><span style="color: #A3BE8C">6</span><span style="color: #ECEFF4">"</span><span style="color: #D8DEE9FF"> </span><span style="color: #4C566A"># skor si z</span></code></pre>
<p>Dokumentasi selengkapnya <code class="shiki-inline" style="background: #2e3440; color: #d8dee9">ZUNIONSTORE</code> bisa dilihat <a href="https://redis.io/commands/zunionstore" target="_blank" rel="nofollow noopener noreferrer">disini</a>.</p>
<h2 id="3-faceted-search"><a href="#3-faceted-search" aria-hidden="true"><span class="icon icon-link"></span></a>3. Faceted Search</h2>
<p>Selanjutnya pembahasa menuju ke <em>faceted search</em>. Untuk definisi <em>faceted search</em> sendiri nggak begitu dijelaskan disini, jadi silahkan aja ke <a href="https://en.wikipedia.org/wiki/Faceted_search" target="_blank" rel="nofollow noopener noreferrer">wikipedia</a>. Yang dibahas disini hanya contoh kasus menerapkan teknik <em>faceted search</em> pada Redis menggunakan bahasa pemrograman tertentu, untuk mengurangi <em>time complexity</em> saat melakukan pencarian.</p>
<p>Sebagai contoh, kita memiliki data customers berupa JSON sebagai berikut:</p>
<pre class="shiki" style="background-color: #2e3440"><code><span style="color: #ECEFF4">[</span>
<span style="color: #D8DEE9FF">    </span><span style="color: #ECEFF4">{</span>
<span style="color: #D8DEE9FF">        </span><span style="color: #ECEFF4">"</span><span style="color: #8FBCBB">ID</span><span style="color: #ECEFF4">":</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">"</span><span style="color: #A3BE8C">001</span><span style="color: #ECEFF4">"</span><span style="color: #ECEFF4">,</span>
<span style="color: #D8DEE9FF">        </span><span style="color: #ECEFF4">"</span><span style="color: #8FBCBB">name</span><span style="color: #ECEFF4">":</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">"</span><span style="color: #A3BE8C">John Doe</span><span style="color: #ECEFF4">"</span><span style="color: #ECEFF4">,</span>
<span style="color: #D8DEE9FF">        </span><span style="color: #ECEFF4">"</span><span style="color: #8FBCBB">age</span><span style="color: #ECEFF4">":</span><span style="color: #D8DEE9FF"> </span><span style="color: #B48EAD">20</span><span style="color: #ECEFF4">,</span>
<span style="color: #D8DEE9FF">        </span><span style="color: #ECEFF4">"</span><span style="color: #8FBCBB">city</span><span style="color: #ECEFF4">":</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">"</span><span style="color: #A3BE8C">Jakarta</span><span style="color: #ECEFF4">"</span><span style="color: #ECEFF4">,</span>
<span style="color: #D8DEE9FF">        </span><span style="color: #ECEFF4">"</span><span style="color: #8FBCBB">sex</span><span style="color: #ECEFF4">":</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">"</span><span style="color: #A3BE8C">male</span><span style="color: #ECEFF4">"</span>
<span style="color: #D8DEE9FF">    </span><span style="color: #ECEFF4">},</span>
<span style="color: #D8DEE9FF">    </span><span style="color: #ECEFF4">{</span>
<span style="color: #D8DEE9FF">        </span><span style="color: #ECEFF4">"</span><span style="color: #8FBCBB">ID</span><span style="color: #ECEFF4">":</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">"</span><span style="color: #A3BE8C">002</span><span style="color: #ECEFF4">"</span><span style="color: #ECEFF4">,</span>
<span style="color: #D8DEE9FF">        </span><span style="color: #ECEFF4">"</span><span style="color: #8FBCBB">name</span><span style="color: #ECEFF4">":</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">"</span><span style="color: #A3BE8C">Jane Doe</span><span style="color: #ECEFF4">"</span><span style="color: #ECEFF4">,</span>
<span style="color: #D8DEE9FF">        </span><span style="color: #ECEFF4">"</span><span style="color: #8FBCBB">age</span><span style="color: #ECEFF4">":</span><span style="color: #D8DEE9FF"> </span><span style="color: #B48EAD">20</span><span style="color: #ECEFF4">,</span>
<span style="color: #D8DEE9FF">        </span><span style="color: #ECEFF4">"</span><span style="color: #8FBCBB">city</span><span style="color: #ECEFF4">":</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">"</span><span style="color: #A3BE8C">Bandung</span><span style="color: #ECEFF4">"</span><span style="color: #ECEFF4">,</span>
<span style="color: #D8DEE9FF">        </span><span style="color: #ECEFF4">"</span><span style="color: #8FBCBB">sex</span><span style="color: #ECEFF4">":</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">"</span><span style="color: #A3BE8C">female</span><span style="color: #ECEFF4">"</span>
<span style="color: #D8DEE9FF">    </span><span style="color: #ECEFF4">}</span>
<span style="color: #ECEFF4">]</span></code></pre>
<p>Jika kita ingin melakukan pencarian terhadap kolom <code class="shiki-inline" style="background: #2e3440; color: #d8dee9">age</code>, <code class="shiki-inline" style="background: #2e3440; color: #d8dee9">city</code>, dan <code class="shiki-inline" style="background: #2e3440; color: #d8dee9">sex</code>.
Selain menyimpan data customer tersebut, kita juga meyimpan indeks untuk <code class="shiki-inline" style="background: #2e3440; color: #d8dee9">age</code>, <code class="shiki-inline" style="background: #2e3440; color: #d8dee9">city</code>, dan <code class="shiki-inline" style="background: #2e3440; color: #d8dee9">sex</code> berupa <code class="shiki-inline" style="background: #2e3440; color: #d8dee9">sets</code>.</p>
<p>Sebagai contoh:</p>
<pre class="shiki" style="background-color: #2e3440"><code><span style="color: #4C566A"># simpan data lengkap</span>
<span style="color: #D8DEE9FF">SET customer:001 </span><span style="color: #ECEFF4">"</span><span style="color: #A3BE8C">{json string data john doe}</span><span style="color: #ECEFF4">"</span>
<span style="color: #D8DEE9FF">SET customer:002 </span><span style="color: #ECEFF4">"</span><span style="color: #A3BE8C">{json string data jane doe}</span><span style="color: #ECEFF4">"</span>

<span style="color: #D8DEE9FF">SADD fs:customer:age:20 001 002     </span><span style="color: #4C566A"># menambahkan 001 dan 002 kedalam set dengan age 20</span>
<span style="color: #D8DEE9FF">SADD fs:customer:city:</span><span style="color: #ECEFF4">"</span><span style="color: #A3BE8C">Jakarta</span><span style="color: #ECEFF4">"</span><span style="color: #D8DEE9FF"> 001 </span><span style="color: #4C566A"># menambahkan customer 001 kedalam set dengan city Jakarta</span>
<span style="color: #D8DEE9FF">SADD fs:customer:city:</span><span style="color: #ECEFF4">"</span><span style="color: #A3BE8C">Bandung</span><span style="color: #ECEFF4">"</span><span style="color: #D8DEE9FF"> 002 </span><span style="color: #4C566A"># menambahkan customer 002 kedalam set dengan city Bandung</span>
<span style="color: #D8DEE9FF">SADD fs:customer:sex:male 001</span>
<span style="color: #D8DEE9FF">SADD fs:customer:sex:female 002</span></code></pre>
<blockquote>
<p>Prefix 'fs' disana maksudnya <em>faceted search</em>. Bisa diganti dengan apapun.</p>
</blockquote>
<p>Dengan begitu, jika kita ingin melakukan pencarian dengan kriteria umur 20 dan jenis kelamin pria,
hal yang pertama kita lakukan adalah mengambil <em>intersect</em> daftar ID dari <code class="shiki-inline" style="background: #2e3440; color: #d8dee9">fs:customer:age:20</code> dan <code class="shiki-inline" style="background: #2e3440; color: #d8dee9">fs:customer:sex:male</code>. Setelah ID didapat, barulah kita mengambil masing-masing data menggunakan <code class="shiki-inline" style="background: #2e3440; color: #d8dee9">GET</code>.</p>
<p>Contoh:</p>
<pre class="shiki" style="background-color: #2e3440"><code><span style="color: #D8DEE9FF">SINTER fs:customer:age:20 fs:customer:sex:male</span>
<span style="color: #D8DEE9FF">1) </span><span style="color: #ECEFF4">"</span><span style="color: #A3BE8C">001</span><span style="color: #ECEFF4">"</span>

<span style="color: #D8DEE9FF">GET customer:001</span>
<span style="color: #ECEFF4">"</span><span style="color: #A3BE8C">json string data john doe</span><span style="color: #ECEFF4">"</span></code></pre>
<p>Sebetulnya di kelas pakainya python, jadi hasil dari <code class="shiki-inline" style="background: #2e3440; color: #d8dee9">SINTER</code> di looping untuk mendapatkan detail masing-masing datanya, tapi disini saya catat konsepnya aja. Pokoknya kayak gitulah tekniknya.</p>
<h4 id="hashed-key"><a href="#hashed-key" aria-hidden="true"><span class="icon icon-link"></span></a>Hashed Key</h4>
<p>Materi selanjutnya adalah membandingkan <em>faceted search</em> diatas dengan tambahan <em>hashed key</em>.
Jadi pada teknik ini, <em>time complexity</em> lebih rendah karena kita tidak perlu melakukan <code class="shiki-inline" style="background: #2e3440; color: #d8dee9">SINTER</code> ke banyak kriteria, karena kombinasi kriterianya dibungkus menjadi hash.</p>
<p>Sebagai contoh pada data JSON sebelumnya, jika kita ingin melakukan pencarian terhadap <code class="shiki-inline" style="background: #2e3440; color: #d8dee9">age</code>, <code class="shiki-inline" style="background: #2e3440; color: #d8dee9">city</code>, dan <code class="shiki-inline" style="background: #2e3440; color: #d8dee9">sex</code>.
Kita perlu membuat <code class="shiki-inline" style="background: #2e3440; color: #d8dee9">sets</code> sebanyak kombinasi dari ke-3 kolom tersebut. Untuk algoritma hashnya sendiri bisa pakai apapun, entah md5, sha1, sha256, dsb.</p>
<p>Contoh aja nih ya, dari data JSON diatas kita akan membuat <code class="shiki-inline" style="background: #2e3440; color: #d8dee9">list</code> kurang lebih seperti ini:</p>
<pre class="shiki" style="background-color: #2e3440"><code><span style="color: #4C566A"># indeks untuk John Doe (001)</span>
<span style="color: #D8DEE9FF">RPUSH </span><span style="color: #ECEFF4">"</span><span style="color: #A3BE8C">hfs:customer:md5(20|Jakarta|male)</span><span style="color: #ECEFF4">"</span><span style="color: #D8DEE9FF"> 001</span>
<span style="color: #D8DEE9FF">RPUSH </span><span style="color: #ECEFF4">"</span><span style="color: #A3BE8C">hfs:customer:md5(20|*|male)</span><span style="color: #ECEFF4">"</span><span style="color: #D8DEE9FF"> 001</span>
<span style="color: #D8DEE9FF">RPUSH </span><span style="color: #ECEFF4">"</span><span style="color: #A3BE8C">hfs:customer:md5(20|Jakarta|*)</span><span style="color: #ECEFF4">"</span><span style="color: #D8DEE9FF"> 001</span>
<span style="color: #D8DEE9FF">RPUSH </span><span style="color: #ECEFF4">"</span><span style="color: #A3BE8C">hfs:customer:md5(*|Jakarta|male)</span><span style="color: #ECEFF4">"</span><span style="color: #D8DEE9FF"> 001</span>
<span style="color: #D8DEE9FF">RPUSH </span><span style="color: #ECEFF4">"</span><span style="color: #A3BE8C">hfs:customer:md5(20|*|*)</span><span style="color: #ECEFF4">"</span><span style="color: #D8DEE9FF"> 001</span>
<span style="color: #D8DEE9FF">RPUSH </span><span style="color: #ECEFF4">"</span><span style="color: #A3BE8C">hfs:customer:md5(*|Jakarta|*)</span><span style="color: #ECEFF4">"</span><span style="color: #D8DEE9FF"> 001</span>
<span style="color: #D8DEE9FF">RPUSH </span><span style="color: #ECEFF4">"</span><span style="color: #A3BE8C">hfs:customer:md5(*|*|male)</span><span style="color: #ECEFF4">"</span><span style="color: #D8DEE9FF"> 001</span>

<span style="color: #4C566A"># indeks untuk Jane Doe (002)</span>
<span style="color: #D8DEE9FF">RPUSH </span><span style="color: #ECEFF4">"</span><span style="color: #A3BE8C">hfs:customer:md5(20|Bandung|female)</span><span style="color: #ECEFF4">"</span><span style="color: #D8DEE9FF"> 002</span>
<span style="color: #D8DEE9FF">RPUSH </span><span style="color: #ECEFF4">"</span><span style="color: #A3BE8C">hfs:customer:md5(20|*|female)</span><span style="color: #ECEFF4">"</span><span style="color: #D8DEE9FF"> 002</span>
<span style="color: #D8DEE9FF">RPUSH </span><span style="color: #ECEFF4">"</span><span style="color: #A3BE8C">hfs:customer:md5(20|Bandung|*)</span><span style="color: #ECEFF4">"</span><span style="color: #D8DEE9FF"> 002</span>
<span style="color: #D8DEE9FF">RPUSH </span><span style="color: #ECEFF4">"</span><span style="color: #A3BE8C">hfs:customer:md5(*|Bandung|female)</span><span style="color: #ECEFF4">"</span><span style="color: #D8DEE9FF"> 002</span>
<span style="color: #D8DEE9FF">RPUSH </span><span style="color: #ECEFF4">"</span><span style="color: #A3BE8C">hfs:customer:md5(20|*|*)</span><span style="color: #ECEFF4">"</span><span style="color: #D8DEE9FF"> 002</span>
<span style="color: #D8DEE9FF">RPUSH </span><span style="color: #ECEFF4">"</span><span style="color: #A3BE8C">hfs:customer:md5(*|Bandung|*)</span><span style="color: #ECEFF4">"</span><span style="color: #D8DEE9FF"> 002</span>
<span style="color: #D8DEE9FF">RPUSH </span><span style="color: #ECEFF4">"</span><span style="color: #A3BE8C">hfs:customer:md5(*|*|female)</span><span style="color: #ECEFF4">"</span><span style="color: #D8DEE9FF"> 002</span></code></pre>
<p>Itu <code class="shiki-inline" style="background: #2e3440; color: #d8dee9">md5(age,city,sex)</code> contoh aja ya, sebetulnya itu seharusnya hasil dari md5-nya, bukan plain text kayak gitu.</p>
<p>Intinya pada teknik <em>hashed key</em> ini kita menyimpan <strong>seluruh</strong> kombinasi key yang dimungkinkan, sehingga suatu saat kita ingin mencari data pria umur 20, kita bisa gunakan <code class="shiki-inline" style="background: #2e3440; color: #d8dee9">LRANGE</code> sebagai berikut:</p>
<pre class="shiki" style="background-color: #2e3440"><code><span style="color: #D8DEE9FF">LRANGE </span><span style="color: #ECEFF4">"</span><span style="color: #A3BE8C">hfs:customer:md5(20|*|male)</span><span style="color: #ECEFF4">"</span><span style="color: #D8DEE9FF"> 0 -1</span>
<span style="color: #D8DEE9FF">1) </span><span style="color: #ECEFF4">"</span><span style="color: #A3BE8C">001</span><span style="color: #ECEFF4">"</span></code></pre>
<p>Dari hasil itu baru deh di loop pakai bahasa pemrograman buat dapatin detail masing-masing datanya.
Menggunakan teknik seperti ini akan mengurangi <em>time complexity</em> untuk melakukan pencarian karena tidak perlu melakukan <em>intersect</em>, hanya saja semakin banyak kombinasi valuenya, keynya akan buanyak banget, dan proses maintain indeksnya jadi lebih rumit.</p>
<h2 id="4-performance--big-o-notation"><a href="#4-performance--big-o-notation" aria-hidden="true"><span class="icon icon-link"></span></a>4. Performance &#x26; Big O Notation</h2>
<p>Sebagai programmer yang main weaponnya PHP dan Javascript saya sebetulnya agak gimana gitu di pembahasan minggu ini. Redis kan memang diciptakan untuk masalah performa, itu kenapa dia menghadirkan solusi in-memory database ini.
Tapi di minggu ini dia bahas masalah performa seakan menggunakan bahasa C dan RAM sebagai penyimpanan masih kurang meyakinkan buat mereka hahhha.</p>
<p>Tapi setelah saya pikir-pikir lagi, justru karena fokus mereka di performa, makanya mereka menekankan masalah performa sampai sebegininya.</p>
<p>Pada bagian ini, pembahasannya adalah tentang performa dan big O notation untuk beberapa perintah Redis.
Sebetulnya pada dokumentasi Redis, setiap perintah itu udah dicantumin big O notationnya, tapi disini mereka menjelaskan lebih detail untuk beberapa perintah.</p>
<p>Ini contoh perhitungan Big O Notation untuk beberapa perintah Redis:</p>
<pre class="shiki" style="background-color: #2e3440"><code><span style="color: #D8DEE9FF">SET foo 10 </span><span style="color: #4C566A"># O(1)</span>
<span style="color: #D8DEE9FF">SET bar 12 </span><span style="color: #4C566A"># O(1)</span>

<span style="color: #D8DEE9FF">MSET foo 10 bar 12 baz 100 </span><span style="color: #4C566A"># O(N), N = 3 (foo, bar , dan baz)</span>

<span style="color: #D8DEE9FF">DEL foo </span><span style="color: #4C566A"># O(1)</span>
<span style="color: #D8DEE9FF">DEL bar baz </span><span style="color: #4C566A"># O(N), N = 2</span>

<span style="color: #D8DEE9FF">SADD myset 1 2 3 4 5 </span><span style="color: #4C566A"># O(N), N = 5</span>
<span style="color: #D8DEE9FF">DEL myset </span><span style="color: #4C566A"># O(M), M = 5</span>

<span style="color: #D8DEE9FF">SADD set:a 1 2 3 4 5 </span><span style="color: #4C566A"># O(5)</span>
<span style="color: #D8DEE9FF">SADD set:b 1 2 3 4 5 6 7 8 9 </span><span style="color: #4C566A"># O(9)</span>

<span style="color: #D8DEE9FF">SINTER set:b set:a </span><span style="color: #4C566A"># O(N * M), N = 5 (count set terkecil), M = 2 (set:a dan set:b) =&gt; O(5 * 2) =&gt; O(10)</span>

<span style="color: #D8DEE9FF">RPUSH numbers 1 2 3 4 5 6 7 8 9 0 </span><span style="color: #4C566A"># O(10)</span>
<span style="color: #D8DEE9FF">LRANGE numbers 3 5 </span><span style="color: #4C566A"># O(S + N), S = 4 (start + 1), N = 3 (end - start + 1) =&gt; O(4 + 3) =&gt; O(7) </span></code></pre>
<hr>
<p>Begitulah pertemuan minggu ke-2. Dah ya, saya mau lanjut ke RU102J.</p>
</div><footer class="flex flex-wrap pb-10 sm:pb-16"><div><a href="/tag/Redis%20University/" class="inline-block text-gray-600 hover:text-white hover:bg-gray-600 border border-gray-600 font-sans font-semibold text-xs sm:text-sm px-4 py-2 mr-4 mb-2 rounded-full transition-color transition-bg">
          Redis University
          </a><a href="/tag/Course/" class="inline-block text-gray-600 hover:text-white hover:bg-gray-600 border border-gray-600 font-sans font-semibold text-xs sm:text-sm px-4 py-2 mr-4 mb-2 rounded-full transition-color transition-bg">
          Course
          </a><a href="/tag/RU101/" class="inline-block text-gray-600 hover:text-white hover:bg-gray-600 border border-gray-600 font-sans font-semibold text-xs sm:text-sm px-4 py-2 mr-4 mb-2 rounded-full transition-color transition-bg">
          RU101
          </a></div></footer></article><footer class="text-gray-700 text-sm leading-normal flex flex-wrap justify-between mx-auto max-w-3xl px-6 sm:px-12 pb-8 sm:pb-10"><div class="w-full sm:w-1/2 mb-4 sm:mb-0 text-gray-600"><p>Â© 2019</p></div><div class="w-full sm:w-1/2"><nav><ul class="flex sm:justify-end -mx-2"><li class="px-2"><a href="/" class="text-gray-600 border-b border-transparent hover:border-gray-400 transition-border-color active">Home</a></li><li class="px-2"><a href="/sitemap.xml" class="text-gray-600 border-b border-transparent hover:border-gray-400 transition-border-color">Sitemap</a></li><li class="px-2"><a href="/feed.xml" class="text-gray-600 border-b border-transparent hover:border-gray-400 transition-border-color">RSS Feed</a></li></ul></nav></div></footer></main></div>
    <script src="/assets/js/app.ded7e0fa.js" defer></script><script src="/assets/js/page--src-templates-post-vue.b0d7aad4.js" defer></script>
  </body>
</html>
