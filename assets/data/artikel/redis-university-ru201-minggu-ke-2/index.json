{"hash":"3f4bf2c2acdd3ecda488b692f010f187723da530","data":{"post":{"title":"Redis University RU201 - Minggu Ke-2","slug":"redis-university-ru201-minggu-ke-2","datetime":"2019-08-20 10:00:00","content":"<p>Ini adalah catatan minggu ke-2 dari apa yang saya pelajari di kelas RU201-nya <a href=\"https://university.redislabs.com\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Redis University</a> yang berjudul <strong>\"RediSearch\"</strong>.</p>\n<p>Pada minggu ke-2 topik pembahasannya adalah seputar penggunaan query pada RediSearch.</p>\n<p>Bingung juga mau nyatetnya gimana, langsung ke contoh querynya ajalah ya.\nBtw query <code>SELECT</code> yang saya tulis pada komentar dibawah itu bukan SQL beneran, semacam <em>pseudo-code</em> SQL aja.</p>\n<div class='code-container'><pre class=\"shiki\" style=\"background-color: #292D3E\"><code><span class=\"line\"><span style=\"color: #676E95\"># Membuat index articles, ini sama kayak buat table di RDBMS</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">FT.CREATE articles SCHEMA title TEXT WEIGHT 5.0 body TEXT author_name TEXT</span></span>\n\n<span class=\"line\"><span style=\"color: #676E95\"># Menambahkan artikel ke index articles, ini sama kayak insert data ke table</span></span>\n<span class=\"line\"><span style=\"color: #676E95\"># Syntax: FT.ADD index_name id score FIELDS field value [{field} {value}...]</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">FT.ADD articles articles 123 0.5 FIELDS title </span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #C3E88D\">Lorem Ipsum</span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #A6ACCD\"> body </span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #C3E88D\">Lorem ipsum dolor sit amet</span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #A6ACCD\"> author_name </span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #C3E88D\">John Doe</span><span style=\"color: #89DDFF\">&quot;</span></span>\n\n<span class=\"line\"><span style=\"color: #676E95\"># SELECT * FROM articles WHERE somehow match &quot;lorem&quot;</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">FT.SEARCH articles </span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #C3E88D\">lorem</span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #A6ACCD\"> LIMIT 0 10</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">1) </span><span style=\"color: #89DDFF\">(</span><span style=\"color: #A6ACCD\">integer</span><span style=\"color: #89DDFF\">)</span><span style=\"color: #A6ACCD\"> 1  </span><span style=\"color: #676E95\"># count</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">2) </span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #C3E88D\">123</span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #A6ACCD\">        </span><span style=\"color: #676E95\"># ID</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">3) 1) </span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #C3E88D\">title</span><span style=\"color: #89DDFF\">&quot;</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">   2) </span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #C3E88D\">Lorem Ipsum</span><span style=\"color: #89DDFF\">&quot;</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">   3) </span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #C3E88D\">body</span><span style=\"color: #89DDFF\">&quot;</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">   4) </span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #C3E88D\">Lorem ipsum dolor sit amet</span><span style=\"color: #89DDFF\">&quot;</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">   5) </span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #C3E88D\">author_name</span><span style=\"color: #89DDFF\">&quot;</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">   6) </span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #C3E88D\">John Doe</span><span style=\"color: #89DDFF\">&quot;</span></span>\n\n<span class=\"line\"><span style=\"color: #676E95\"># SELECT * FROM articles WHERE somehow match &quot;lorem&quot; OR &quot;ipsum&quot;</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">FT.SEARCH articles </span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #C3E88D\">lorem|ipsum</span><span style=\"color: #89DDFF\">&quot;</span></span>\n\n<span class=\"line\"><span style=\"color: #676E95\"># SELECT * FROM articles WHERE somehow match &quot;lorem&quot; AND &quot;ipsum&quot;</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">FT.SEARCH articles </span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #C3E88D\">lorem ipsum</span><span style=\"color: #89DDFF\">&quot;</span></span>\n\n<span class=\"line\"><span style=\"color: #676E95\"># SELECT * FROM articles WHERE somehow match &quot;lorem ipsum&quot;</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">FT.SEARCH articles </span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #A6ACCD\">\\&quot;</span><span style=\"color: #C3E88D\">lorem ipsum</span><span style=\"color: #A6ACCD\">\\&quot;</span><span style=\"color: #89DDFF\">&quot;</span></span>\n\n<span class=\"line\"><span style=\"color: #676E95\"># SELECT * FROM articles WHERE somehow match &quot;lorem&quot; AND not contains &quot;ipsum&quot;</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">FT.SEARCH articles </span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #C3E88D\">lorem -ipsum</span><span style=\"color: #89DDFF\">&quot;</span></span>\n\n<span class=\"line\"><span style=\"color: #676E95\"># SELECT * FROM articles WHERE somehow match &quot;lorem&quot; OR not contains &quot;ipsum&quot;</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">FT.SEARCH articles </span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #C3E88D\">lorem|-ipsum</span><span style=\"color: #89DDFF\">&quot;</span></span>\n\n<span class=\"line\"><span style=\"color: #676E95\"># SELECT * FROM articles WHERE anyfields LIKE &quot;lorem%&quot;</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">FT.SEARCH articles </span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #C3E88D\">lorem*</span><span style=\"color: #89DDFF\">&quot;</span></span>\n\n<span class=\"line\"><span style=\"color: #676E95\"># SELECT * FROM articles WHERE levehnstein(index) sounds like &quot;lorem&quot;</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">FT.SEARCH articles </span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #C3E88D\">%lorem%</span><span style=\"color: #89DDFF\">&quot;</span></span>\n\n<span class=\"line\"><span style=\"color: #676E95\"># SELECT * FROM articles WHERE (somehow match &quot;lorem&quot; AND &quot;ipsum&quot;) OR somehow match &quot;foo&quot;</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">FT.SEARCH articles </span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #C3E88D\">(lorem ipsum)|foo</span><span style=\"color: #89DDFF\">&quot;</span></span>\n\n<span class=\"line\"><span style=\"color: #676E95\"># SELECT * FROM articles WHERE (somehow match &quot;lorem&quot; AND &quot;ipsum&quot;) OR (somehow match &quot;foo&quot; AND &quot;bar&quot;)</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">FT.SEARCH articles </span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #C3E88D\">(lorem ipsum)|(foo bar)</span><span style=\"color: #89DDFF\">&quot;</span></span>\n\n<span class=\"line\"><span style=\"color: #676E95\"># SELECT * FROM articles WHERE (somehow match &quot;lorem&quot; AND &quot;ipsum&quot;) OR not contains &quot;foo&quot;</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">FT.SEARCH articles </span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #C3E88D\">(lorem ipsum)|-foo</span><span style=\"color: #89DDFF\">&quot;</span></span></code></pre></div>\n<p>Dokumentasi selengkapnya tentang <code>FT.CREATE</code>, <code>FT.ADD</code>, dan <code>FT.SEARCH</code> bisa dilihat pada link dibawah ini:</p>\n<ul>\n<li><a href=\"https://oss.redislabs.com/redisearch/Commands/#ftcreate\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">FT.CREATE</a></li>\n<li><a href=\"https://oss.redislabs.com/redisearch/Commands/#ftadd\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">FT.ADD</a></li>\n<li><a href=\"https://oss.redislabs.com/redisearch/Commands/#ftsearch\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">FT.SEARCH</a></li>\n</ul>\n<p>Selanjutnya adalah memahami hasi dari <code>FT.EXPLAIN</code>. Buat kamu yang terbiasa dengan RDBMS mungkin sudah familiar dengan perintah <code>explain</code>, ya perintah ini digunakan untuk menjabarkan query. Di RediSearch sendiri <code>FT.EXPLAIN</code> ini digunakan untuk menjabarkan query pencarian (<code>FT.SEARCH</code>).</p>\n<p>Berikut adalah contoh penggunaan <code>FT.EXPLAIN</code> beserta penjelasannya.</p>\n<div class='code-container'><pre class=\"shiki\" style=\"background-color: #292D3E\"><code><span class=\"line\"><span style=\"color: #A6ACCD\">FT.EXPLAIN articles </span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #C3E88D\">lorem ipsum</span><span style=\"color: #89DDFF\">&quot;</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">INTERSECT </span><span style=\"color: #89DDFF\">{</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">  UNION </span><span style=\"color: #89DDFF\">{</span><span style=\"color: #A6ACCD\"> </span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">    lorem</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">    </span><span style=\"color: #89DDFF\">&lt;</span><span style=\"color: #A6ACCD\">LRM</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #A6ACCD\">expanded</span><span style=\"color: #89DDFF\">)</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">    +lorem</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #A6ACCD\">expanded</span><span style=\"color: #89DDFF\">)</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">  </span><span style=\"color: #89DDFF\">}</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">  UNION </span><span style=\"color: #89DDFF\">{</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">    ipsum</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">    </span><span style=\"color: #89DDFF\">&lt;</span><span style=\"color: #A6ACCD\">APSM</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #A6ACCD\">expanded</span><span style=\"color: #89DDFF\">)</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">    +ipsum</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #A6ACCD\">expanded</span><span style=\"color: #89DDFF\">)</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">  </span><span style=\"color: #89DDFF\">}</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">}</span></span></code></pre></div>\n<p>Haduh, gimana jelasinnya ya. Mesti pakai gambar ini. Nanti deh saya buatin.\nSementara silahkan bandingin sendiri aja sama hasil explain dibawah ini:</p>\n<div class='code-container'><pre class=\"shiki\" style=\"background-color: #292D3E\"><code><span class=\"line\"><span style=\"color: #A6ACCD\">FT.EXPLAIN articles </span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #C3E88D\">lorem</span><span style=\"color: #89DDFF\">&quot;</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">UNION </span><span style=\"color: #89DDFF\">{</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">  lorem</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">  </span><span style=\"color: #89DDFF\">&lt;</span><span style=\"color: #A6ACCD\">LRM</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #A6ACCD\">expanded</span><span style=\"color: #89DDFF\">)</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">  +lorem</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #A6ACCD\">expanded</span><span style=\"color: #89DDFF\">)</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">}</span></span>\n\n<span class=\"line\"><span style=\"color: #A6ACCD\">FT.EXPLAIN articles </span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #C3E88D\">lorem|ipsum</span><span style=\"color: #89DDFF\">&quot;</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">UNION </span><span style=\"color: #89DDFF\">{</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">  UNION </span><span style=\"color: #89DDFF\">{</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">    lorem</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">    </span><span style=\"color: #89DDFF\">&lt;</span><span style=\"color: #A6ACCD\">LRM</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #A6ACCD\">expanded</span><span style=\"color: #89DDFF\">)</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">    +lorem</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #A6ACCD\">expanded</span><span style=\"color: #89DDFF\">)</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">  </span><span style=\"color: #89DDFF\">}</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">  UNION </span><span style=\"color: #89DDFF\">{</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">    ipsum</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">    </span><span style=\"color: #89DDFF\">&lt;</span><span style=\"color: #A6ACCD\">APSM</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #A6ACCD\">expanded</span><span style=\"color: #89DDFF\">)</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">    +ipsum</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #A6ACCD\">expanded</span><span style=\"color: #89DDFF\">)</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">  </span><span style=\"color: #89DDFF\">}</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">}</span></span>\n\n<span class=\"line\"><span style=\"color: #A6ACCD\">FT.EXPLAIN articles </span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #A6ACCD\">\\&quot;</span><span style=\"color: #C3E88D\">lorem</span><span style=\"color: #A6ACCD\">\\&quot;</span><span style=\"color: #89DDFF\">&quot;</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #C3E88D\">lorem</span><span style=\"color: #89DDFF\">&quot;</span></span>\n\n<span class=\"line\"><span style=\"color: #A6ACCD\">FT.EXPLAIN articles </span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #A6ACCD\">\\&quot;</span><span style=\"color: #C3E88D\">lorem</span><span style=\"color: #A6ACCD\">\\&quot;</span><span style=\"color: #C3E88D\">|ipsum</span><span style=\"color: #89DDFF\">&quot;</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">UNION </span><span style=\"color: #89DDFF\">{</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">  lorem</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">  UNION </span><span style=\"color: #89DDFF\">{</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">    ipsum</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">    </span><span style=\"color: #89DDFF\">&lt;</span><span style=\"color: #A6ACCD\">APSM</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #A6ACCD\">expanded</span><span style=\"color: #89DDFF\">)</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">    +ipsum</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #A6ACCD\">expanded</span><span style=\"color: #89DDFF\">)</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">  </span><span style=\"color: #89DDFF\">}</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">}</span></span>\n\n<span class=\"line\"><span style=\"color: #A6ACCD\">FT.EXPLAIN articles </span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #A6ACCD\">\\&quot;</span><span style=\"color: #C3E88D\">lorem</span><span style=\"color: #A6ACCD\">\\&quot;</span><span style=\"color: #C3E88D\"> ipsum</span><span style=\"color: #89DDFF\">&quot;</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">INTERSECT </span><span style=\"color: #89DDFF\">{</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">  lorem</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">  UNION </span><span style=\"color: #89DDFF\">{</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">    ipsum</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">    </span><span style=\"color: #89DDFF\">&lt;</span><span style=\"color: #A6ACCD\">APSM</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #A6ACCD\">expanded</span><span style=\"color: #89DDFF\">)</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">    +ipsum</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #A6ACCD\">expanded</span><span style=\"color: #89DDFF\">)</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">  </span><span style=\"color: #89DDFF\">}</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">}</span></span>\n\n<span class=\"line\"><span style=\"color: #A6ACCD\">FT.EXPLAIN articles </span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #A6ACCD\">\\&quot;</span><span style=\"color: #C3E88D\">lorem</span><span style=\"color: #A6ACCD\">\\&quot;</span><span style=\"color: #C3E88D\"> -ipsum</span><span style=\"color: #89DDFF\">&quot;</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">INTERSECT </span><span style=\"color: #89DDFF\">{</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">  lorem</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">  NOT{</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">    ipsum</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">  </span><span style=\"color: #89DDFF\">}</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">}</span></span></code></pre></div>\n<p>Dari beberapa hasil explain diatas, saya sih ngerti ya, soalnya sambil keinget sama penjelasan di videonya.\nCuma nanti kalau ada waktu saya coba gambarin pakai <em>venn diagram</em> deh.</p>\n<hr>\n<p>Yaudah segitu aja untuk minggu ke-2 di RU201. Saat saya nulis ini sebetulnya sudah masuk minggu ke-3, tapi mungkin saya akan nulis minggu ke-3 nanti di minggu ke-4. Jadi segitu aja catatan minggu ini, bye.</p>\n","description":"Catatan kelas Redis University RU201 minggu ke-2","timeToRead":3,"cover":"/images/posts/ru201-w2-cover.png","coverThumb":"/images/posts/ru201-w2-cover.png","fullscreen":false,"author":{"id":"Muhammad Syifa","title":"Muhammad Syifa","path":"/author/Muhammad%20Syifa/"},"tags":[{"id":"Redis University","title":"Redis University","path":"/tag/Redis%20University/"},{"id":"Course","title":"Course","path":"/tag/Course/"},{"id":"RU201","title":"RU201","path":"/tag/RU201/"}]}},"context":{}}