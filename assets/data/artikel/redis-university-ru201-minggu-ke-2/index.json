{"hash":"ff36fea7d3d9a71ff04c4234880218bcfcc8b95d","data":{"post":{"title":"Redis University RU201 - Minggu Ke-2","slug":"redis-university-ru201-minggu-ke-2","datetime":"2019-08-20 10:00:00","content":"<p>Ini adalah catatan minggu ke-2 dari apa yang saya pelajari di kelas RU201-nya <a href=\"https://university.redislabs.com\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Redis University</a> yang berjudul <strong>\"RediSearch\"</strong>.</p>\n<p>Pada minggu ke-2 topik pembahasannya adalah seputar penggunaan query pada RediSearch.</p>\n<p>Bingung juga mau nyatetnya gimana, langsung ke contoh querynya ajalah ya.\nBtw query <code>SELECT</code> yang saya tulis pada komentar dibawah itu bukan SQL beneran, semacam <em>pseudo-code</em> SQL aja.</p>\n<pre class=\"shiki\" style=\"background-color: #191d21\"><code><span style=\"color: #888\"># Membuat index articles, ini sama kayak buat table di RDBMS</span>\n<span style=\"color: #FFFFFF\">FT.CREATE articles SCHEMA title TEXT WEIGHT 5.0 body TEXT author_name TEXT</span>\n\n<span style=\"color: #888\"># Menambahkan artikel ke index articles, ini sama kayak insert data ke table</span>\n<span style=\"color: #888\"># Syntax: FT.ADD index_name id score FIELDS field value [{field} {value}...]</span>\n<span style=\"color: #FFFFFF\">FT.ADD articles articles 123 0.5 FIELDS title </span><span style=\"color: #50E3C2\">\"Lorem Ipsum\"</span><span style=\"color: #FFFFFF\"> body </span><span style=\"color: #50E3C2\">\"Lorem ipsum dolor sit amet\"</span><span style=\"color: #FFFFFF\"> author_name </span><span style=\"color: #50E3C2\">\"John Doe\"</span>\n\n<span style=\"color: #888\"># SELECT * FROM articles WHERE somehow match \"lorem\"</span>\n<span style=\"color: #FFFFFF\">FT.SEARCH articles </span><span style=\"color: #50E3C2\">\"lorem\"</span><span style=\"color: #FFFFFF\"> LIMIT 0 10</span>\n<span style=\"color: #FFFFFF\">1) </span><span style=\"color: #EFEFEF\">(</span><span style=\"color: #FFFFFF\">integer</span><span style=\"color: #EFEFEF\">)</span><span style=\"color: #FFFFFF\"> 1  </span><span style=\"color: #888\"># count</span>\n<span style=\"color: #FFFFFF\">2) </span><span style=\"color: #50E3C2\">\"123\"</span><span style=\"color: #FFFFFF\">        </span><span style=\"color: #888\"># ID</span>\n<span style=\"color: #FFFFFF\">3) 1) </span><span style=\"color: #50E3C2\">\"title\"</span>\n<span style=\"color: #FFFFFF\">   2) </span><span style=\"color: #50E3C2\">\"Lorem Ipsum\"</span>\n<span style=\"color: #FFFFFF\">   3) </span><span style=\"color: #50E3C2\">\"body\"</span>\n<span style=\"color: #FFFFFF\">   4) </span><span style=\"color: #50E3C2\">\"Lorem ipsum dolor sit amet\"</span>\n<span style=\"color: #FFFFFF\">   5) </span><span style=\"color: #50E3C2\">\"author_name\"</span>\n<span style=\"color: #FFFFFF\">   6) </span><span style=\"color: #50E3C2\">\"John Doe\"</span>\n\n<span style=\"color: #888\"># SELECT * FROM articles WHERE somehow match \"lorem\" OR \"ipsum\"</span>\n<span style=\"color: #FFFFFF\">FT.SEARCH articles </span><span style=\"color: #50E3C2\">\"lorem|ipsum\"</span>\n\n<span style=\"color: #888\"># SELECT * FROM articles WHERE somehow match \"lorem\" AND \"ipsum\"</span>\n<span style=\"color: #FFFFFF\">FT.SEARCH articles </span><span style=\"color: #50E3C2\">\"lorem ipsum\"</span>\n\n<span style=\"color: #888\"># SELECT * FROM articles WHERE somehow match \"lorem ipsum\"</span>\n<span style=\"color: #FFFFFF\">FT.SEARCH articles </span><span style=\"color: #50E3C2\">\"</span><span style=\"color: #5392DB\">\\\"</span><span style=\"color: #50E3C2\">lorem ipsum</span><span style=\"color: #5392DB\">\\\"</span><span style=\"color: #50E3C2\">\"</span>\n\n<span style=\"color: #888\"># SELECT * FROM articles WHERE somehow match \"lorem\" AND not contains \"ipsum\"</span>\n<span style=\"color: #FFFFFF\">FT.SEARCH articles </span><span style=\"color: #50E3C2\">\"lorem -ipsum\"</span>\n\n<span style=\"color: #888\"># SELECT * FROM articles WHERE somehow match \"lorem\" OR not contains \"ipsum\"</span>\n<span style=\"color: #FFFFFF\">FT.SEARCH articles </span><span style=\"color: #50E3C2\">\"lorem|-ipsum\"</span>\n\n<span style=\"color: #888\"># SELECT * FROM articles WHERE anyfields LIKE \"lorem%\"</span>\n<span style=\"color: #FFFFFF\">FT.SEARCH articles </span><span style=\"color: #50E3C2\">\"lorem*\"</span>\n\n<span style=\"color: #888\"># SELECT * FROM articles WHERE levehnstein(index) sounds like \"lorem\"</span>\n<span style=\"color: #FFFFFF\">FT.SEARCH articles </span><span style=\"color: #50E3C2\">\"%lorem%\"</span>\n\n<span style=\"color: #888\"># SELECT * FROM articles WHERE (somehow match \"lorem\" AND \"ipsum\") OR somehow match \"foo\"</span>\n<span style=\"color: #FFFFFF\">FT.SEARCH articles </span><span style=\"color: #50E3C2\">\"(lorem ipsum)|foo\"</span>\n\n<span style=\"color: #888\"># SELECT * FROM articles WHERE (somehow match \"lorem\" AND \"ipsum\") OR (somehow match \"foo\" AND \"bar\")</span>\n<span style=\"color: #FFFFFF\">FT.SEARCH articles </span><span style=\"color: #50E3C2\">\"(lorem ipsum)|(foo bar)\"</span>\n\n<span style=\"color: #888\"># SELECT * FROM articles WHERE (somehow match \"lorem\" AND \"ipsum\") OR not contains \"foo\"</span>\n<span style=\"color: #FFFFFF\">FT.SEARCH articles </span><span style=\"color: #50E3C2\">\"(lorem ipsum)|-foo\"</span></code></pre>\n<p>Dokumentasi selengkapnya tentang <code>FT.CREATE</code>, <code>FT.ADD</code>, dan <code>FT.SEARCH</code> bisa dilihat pada link dibawah ini:</p>\n<ul>\n<li><a href=\"https://oss.redislabs.com/redisearch/Commands/#ftcreate\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">FT.CREATE</a></li>\n<li><a href=\"https://oss.redislabs.com/redisearch/Commands/#ftadd\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">FT.ADD</a></li>\n<li><a href=\"https://oss.redislabs.com/redisearch/Commands/#ftsearch\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">FT.SEARCH</a></li>\n</ul>\n<p>Selanjutnya adalah memahami hasi dari <code>FT.EXPLAIN</code>. Buat kamu yang terbiasa dengan RDBMS mungkin sudah familiar dengan perintah <code>explain</code>, ya perintah ini digunakan untuk menjabarkan query. Di RediSearch sendiri <code>FT.EXPLAIN</code> ini digunakan untuk menjabarkan query pencarian (<code>FT.SEARCH</code>).</p>\n<p>Berikut adalah contoh penggunaan <code>FT.EXPLAIN</code> beserta penjelasannya.</p>\n<pre class=\"shiki\" style=\"background-color: #191d21\"><code><span style=\"color: #FFFFFF\">FT.EXPLAIN articles </span><span style=\"color: #50E3C2\">\"lorem ipsum\"</span>\n<span style=\"color: #FFFFFF\">INTERSECT </span><span style=\"color: #EFEFEF\">{</span>\n<span style=\"color: #FFFFFF\">  UNION </span><span style=\"color: #EFEFEF\">{</span><span style=\"color: #FFFFFF\"> </span>\n<span style=\"color: #FFFFFF\">    lorem</span>\n<span style=\"color: #FFFFFF\">    </span><span style=\"color: #EFEFEF\">&lt;</span><span style=\"color: #FFFFFF\">LRM</span><span style=\"color: #EFEFEF\">(</span><span style=\"color: #FFFFFF\">expanded</span><span style=\"color: #EFEFEF\">)</span>\n<span style=\"color: #FFFFFF\">    +lorem</span><span style=\"color: #EFEFEF\">(</span><span style=\"color: #FFFFFF\">expanded</span><span style=\"color: #EFEFEF\">)</span>\n<span style=\"color: #FFFFFF\">  </span><span style=\"color: #EFEFEF\">}</span>\n<span style=\"color: #FFFFFF\">  UNION </span><span style=\"color: #EFEFEF\">{</span>\n<span style=\"color: #FFFFFF\">    ipsum</span>\n<span style=\"color: #FFFFFF\">    </span><span style=\"color: #EFEFEF\">&lt;</span><span style=\"color: #FFFFFF\">APSM</span><span style=\"color: #EFEFEF\">(</span><span style=\"color: #FFFFFF\">expanded</span><span style=\"color: #EFEFEF\">)</span>\n<span style=\"color: #FFFFFF\">    +ipsum</span><span style=\"color: #EFEFEF\">(</span><span style=\"color: #FFFFFF\">expanded</span><span style=\"color: #EFEFEF\">)</span>\n<span style=\"color: #FFFFFF\">  </span><span style=\"color: #EFEFEF\">}</span>\n<span style=\"color: #EFEFEF\">}</span></code></pre>\n<p>Haduh, gimana jelasinnya ya. Mesti pakai gambar ini. Nanti deh saya buatin.\nSementara silahkan bandingin sendiri aja sama hasil explain dibawah ini:</p>\n<pre class=\"shiki\" style=\"background-color: #191d21\"><code><span style=\"color: #FFFFFF\">FT.EXPLAIN articles </span><span style=\"color: #50E3C2\">\"lorem\"</span>\n<span style=\"color: #FFFFFF\">UNION </span><span style=\"color: #EFEFEF\">{</span>\n<span style=\"color: #FFFFFF\">  lorem</span>\n<span style=\"color: #FFFFFF\">  </span><span style=\"color: #EFEFEF\">&lt;</span><span style=\"color: #FFFFFF\">LRM</span><span style=\"color: #EFEFEF\">(</span><span style=\"color: #FFFFFF\">expanded</span><span style=\"color: #EFEFEF\">)</span>\n<span style=\"color: #FFFFFF\">  +lorem</span><span style=\"color: #EFEFEF\">(</span><span style=\"color: #FFFFFF\">expanded</span><span style=\"color: #EFEFEF\">)</span>\n<span style=\"color: #EFEFEF\">}</span>\n\n<span style=\"color: #FFFFFF\">FT.EXPLAIN articles </span><span style=\"color: #50E3C2\">\"lorem|ipsum\"</span>\n<span style=\"color: #FFFFFF\">UNION </span><span style=\"color: #EFEFEF\">{</span>\n<span style=\"color: #FFFFFF\">  UNION </span><span style=\"color: #EFEFEF\">{</span>\n<span style=\"color: #FFFFFF\">    lorem</span>\n<span style=\"color: #FFFFFF\">    </span><span style=\"color: #EFEFEF\">&lt;</span><span style=\"color: #FFFFFF\">LRM</span><span style=\"color: #EFEFEF\">(</span><span style=\"color: #FFFFFF\">expanded</span><span style=\"color: #EFEFEF\">)</span>\n<span style=\"color: #FFFFFF\">    +lorem</span><span style=\"color: #EFEFEF\">(</span><span style=\"color: #FFFFFF\">expanded</span><span style=\"color: #EFEFEF\">)</span>\n<span style=\"color: #FFFFFF\">  </span><span style=\"color: #EFEFEF\">}</span>\n<span style=\"color: #FFFFFF\">  UNION </span><span style=\"color: #EFEFEF\">{</span>\n<span style=\"color: #FFFFFF\">    ipsum</span>\n<span style=\"color: #FFFFFF\">    </span><span style=\"color: #EFEFEF\">&lt;</span><span style=\"color: #FFFFFF\">APSM</span><span style=\"color: #EFEFEF\">(</span><span style=\"color: #FFFFFF\">expanded</span><span style=\"color: #EFEFEF\">)</span>\n<span style=\"color: #FFFFFF\">    +ipsum</span><span style=\"color: #EFEFEF\">(</span><span style=\"color: #FFFFFF\">expanded</span><span style=\"color: #EFEFEF\">)</span>\n<span style=\"color: #FFFFFF\">  </span><span style=\"color: #EFEFEF\">}</span>\n<span style=\"color: #EFEFEF\">}</span>\n\n<span style=\"color: #FFFFFF\">FT.EXPLAIN articles </span><span style=\"color: #50E3C2\">\"</span><span style=\"color: #5392DB\">\\\"</span><span style=\"color: #50E3C2\">lorem</span><span style=\"color: #5392DB\">\\\"</span><span style=\"color: #50E3C2\">\"</span>\n<span style=\"color: #50E3C2\">\"lorem\"</span>\n\n<span style=\"color: #FFFFFF\">FT.EXPLAIN articles </span><span style=\"color: #50E3C2\">\"</span><span style=\"color: #5392DB\">\\\"</span><span style=\"color: #50E3C2\">lorem</span><span style=\"color: #5392DB\">\\\"</span><span style=\"color: #50E3C2\">|ipsum\"</span>\n<span style=\"color: #FFFFFF\">UNION </span><span style=\"color: #EFEFEF\">{</span>\n<span style=\"color: #FFFFFF\">  lorem</span>\n<span style=\"color: #FFFFFF\">  UNION </span><span style=\"color: #EFEFEF\">{</span>\n<span style=\"color: #FFFFFF\">    ipsum</span>\n<span style=\"color: #FFFFFF\">    </span><span style=\"color: #EFEFEF\">&lt;</span><span style=\"color: #FFFFFF\">APSM</span><span style=\"color: #EFEFEF\">(</span><span style=\"color: #FFFFFF\">expanded</span><span style=\"color: #EFEFEF\">)</span>\n<span style=\"color: #FFFFFF\">    +ipsum</span><span style=\"color: #EFEFEF\">(</span><span style=\"color: #FFFFFF\">expanded</span><span style=\"color: #EFEFEF\">)</span>\n<span style=\"color: #FFFFFF\">  </span><span style=\"color: #EFEFEF\">}</span>\n<span style=\"color: #EFEFEF\">}</span>\n\n<span style=\"color: #FFFFFF\">FT.EXPLAIN articles </span><span style=\"color: #50E3C2\">\"</span><span style=\"color: #5392DB\">\\\"</span><span style=\"color: #50E3C2\">lorem</span><span style=\"color: #5392DB\">\\\"</span><span style=\"color: #50E3C2\"> ipsum\"</span>\n<span style=\"color: #FFFFFF\">INTERSECT </span><span style=\"color: #EFEFEF\">{</span>\n<span style=\"color: #FFFFFF\">  lorem</span>\n<span style=\"color: #FFFFFF\">  UNION </span><span style=\"color: #EFEFEF\">{</span>\n<span style=\"color: #FFFFFF\">    ipsum</span>\n<span style=\"color: #FFFFFF\">    </span><span style=\"color: #EFEFEF\">&lt;</span><span style=\"color: #FFFFFF\">APSM</span><span style=\"color: #EFEFEF\">(</span><span style=\"color: #FFFFFF\">expanded</span><span style=\"color: #EFEFEF\">)</span>\n<span style=\"color: #FFFFFF\">    +ipsum</span><span style=\"color: #EFEFEF\">(</span><span style=\"color: #FFFFFF\">expanded</span><span style=\"color: #EFEFEF\">)</span>\n<span style=\"color: #FFFFFF\">  </span><span style=\"color: #EFEFEF\">}</span>\n<span style=\"color: #EFEFEF\">}</span>\n\n<span style=\"color: #FFFFFF\">FT.EXPLAIN articles </span><span style=\"color: #50E3C2\">\"</span><span style=\"color: #5392DB\">\\\"</span><span style=\"color: #50E3C2\">lorem</span><span style=\"color: #5392DB\">\\\"</span><span style=\"color: #50E3C2\"> -ipsum\"</span>\n<span style=\"color: #FFFFFF\">INTERSECT </span><span style=\"color: #EFEFEF\">{</span>\n<span style=\"color: #FFFFFF\">  lorem</span>\n<span style=\"color: #FFFFFF\">  NOT{</span>\n<span style=\"color: #FFFFFF\">    ipsum</span>\n<span style=\"color: #FFFFFF\">  </span><span style=\"color: #EFEFEF\">}</span>\n<span style=\"color: #FFFFFF\">}</span></code></pre>\n<p>Dari beberapa hasil explain diatas, saya sih ngerti ya, soalnya sambil keinget sama penjelasan di videonya.\nCuma nanti kalau ada waktu saya coba gambarin pakai <em>venn diagram</em> deh.</p>\n<hr>\n<p>Yaudah segitu aja untuk minggu ke-2 di RU201. Saat saya nulis ini sebetulnya sudah masuk minggu ke-3, tapi mungkin saya akan nulis minggu ke-3 nanti di minggu ke-4. Jadi segitu aja catatan minggu ini, bye.</p>\n","description":"Catatan kelas Redis University RU201 minggu ke-2","timeToRead":3,"cover":"/images/posts/ru201-w2-cover.png","coverThumb":"/images/posts/ru201-w2-cover.png","fullscreen":false,"author":{"id":"Muhammad Syifa","title":"Muhammad Syifa","path":"/author/Muhammad%20Syifa/"},"tags":[{"id":"Redis University","title":"Redis University","path":"/tag/Redis%20University/"},{"id":"Course","title":"Course","path":"/tag/Course/"},{"id":"RU201","title":"RU201","path":"/tag/RU201/"}]}},"context":{}}