<!DOCTYPE html>
<html data-html-server-rendered="true" lang="en" class="h-full" data-vue-tag="%7B%22lang%22:%7B%22ssr%22:%22en%22%7D,%22class%22:%7B%22ssr%22:%22h-full%22%7D%7D">
  <head>
    <title>Redis University RU101 - Minggu Ke-2 </title><meta name="gridsome:hash" content="bc12f9512de9c11c31713b2753581a4f718483d0"><meta data-vue-tag="ssr" charset="utf-8"><meta data-vue-tag="ssr" name="generator" content="Gridsome v0.7.9"><meta data-vue-tag="ssr" data-key="viewport" name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover"><meta data-vue-tag="ssr" data-key="format-detection" name="format-detection" content="telephone=no"><meta data-vue-tag="ssr" name="theme-color" content="#1a202c"><meta data-vue-tag="ssr" data-key="description" name="description" content="Catatan kelas Redis University RU101 minggu ke-2"><meta data-vue-tag="ssr" property="og:type" content="article"><meta data-vue-tag="ssr" property="og:title" content="Redis University RU101 - Minggu Ke-2"><meta data-vue-tag="ssr" property="og:description" content="Catatan kelas Redis University RU101 minggu ke-2"><meta data-vue-tag="ssr" property="og:url" content="https://www.emsifa.com/redis-university-ru101-minggu-ke-2/"><meta data-vue-tag="ssr" property="article:published_time" content="undefined"><meta data-vue-tag="ssr" property="og:image" content="https://www.emsifa.com/images/posts/ru101-w2-cover.png"><meta data-vue-tag="ssr" name="twitter:card" content="summary_large_image"><meta data-vue-tag="ssr" name="twitter:title" content="Redis University RU101 - Minggu Ke-2"><meta data-vue-tag="ssr" name="twitter:description" content="Catatan kelas Redis University RU101 minggu ke-2"><meta data-vue-tag="ssr" name="twitter:site" content="@cossssmin"><meta data-vue-tag="ssr" name="twitter:creator" content="@cossssmin"><meta data-vue-tag="ssr" name="twitter:image" content="/images/posts/ru101-w2-cover.png"><link data-vue-tag="ssr" rel="icon" href="data:,"><link data-vue-tag="ssr" rel="icon" type="image/png" sizes="16x16" href="/assets/static/favicon.ce0531f.74da076.png"><link data-vue-tag="ssr" rel="icon" type="image/png" sizes="32x32" href="/assets/static/favicon.ac8d93a.74da076.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="48x48" href="/assets/static/favicon.f8b3168.74da076.png"><link rel="preload" href="/assets/css/9.styles.5c967d9e.css" as="style"><link rel="preload" href="/assets/js/app.b453242b.js" as="script"><link rel="preload" href="/assets/js/page--src-templates-post-vue.5be0044e.js" as="script"><link rel="prefetch" href="/assets/js/11.51917c87.js"><link rel="prefetch" href="/assets/js/page--src-pages-404-vue.5321e96a.js"><link rel="prefetch" href="/assets/js/page--src-pages-artikel-vue.90c8b157.js"><link rel="prefetch" href="/assets/js/page--src-pages-index-vue.47a9424c.js"><link rel="prefetch" href="/assets/js/page--src-pages-open-sources-vue.ae51effb.js"><link rel="prefetch" href="/assets/js/page--src-templates-author-vue.3408274a.js"><link rel="prefetch" href="/assets/js/page--src-templates-tag-vue.055fc86e.js"><link rel="prefetch" href="/assets/js/vendors~page--src-pages-artikel-vue~page--src-pages-index-vue~page--src-pages-open-sources-vue~page-~f457dff2.8b74eeb6.js"><link rel="prefetch" href="/assets/js/vendors~page--src-templates-post-vue.330bb624.js"><link rel="stylesheet" href="/assets/css/9.styles.5c967d9e.css"><noscript data-vue-tag="ssr"><style>.g-image--loading{display:none;}</style></noscript>
  </head>
  <body class="antialiased" data-vue-tag="%7B%22class%22:%7B%22ssr%22:%22antialiased%22%7D%7D">
    <div data-server-rendered="true" id="app" class="min-h-screen light"><header class="select-none mb-5 shadow-lg border-gray-200" data-v-5be2d4e5><div class="container max-w-3xl px-5 md:px-0 py-5" data-v-5be2d4e5><div class="flex" data-v-5be2d4e5><div class="w-10/12" data-v-5be2d4e5><a href="/" class="text-black w-full inline-block active" data-v-5be2d4e5><div class="flex" data-v-5be2d4e5><div class="w-auto" data-v-5be2d4e5><img src="/images/logo.svg" alt="Logo" class="inline" data-v-5be2d4e5></div><div class="w-auto ml-3 pt-2" data-v-5be2d4e5><h1 class="text-normal font-semibold text-gray-700" data-v-5be2d4e5>
                Webnya Muhammad Syifa
              </h1><h2 class="text-sm text-gray-600 text-gray-600" data-v-5be2d4e5>
                Ini halaman artikel
              </h2></div></div></a></div><div class="w-2/12 text-right pt-3" data-v-5be2d4e5><button title="Gelapin" class="
            p-2
            rounded-full
            bg-transparent
            transition-all
            focus:outline-none
           hover:bg-yellow-200" data-v-5be2d4e5><img src="/images/sun.svg" alt="Sun" style="width:30px;height:30px;" data-v-5be2d4e5><!----></button></div></div></div></header><main><header><div class="container max-w-3xl px-5 md:px-0"><div class="mx-auto pb-5 border-b border-gray-200 text-gray-700"><img src="/images/posts/ru101-w2-cover.png" class="g-image"><h1 class="text-3xl sm:text-3xl leading-tight font-sans font-semibold mb-3 mt-5">
        Redis University RU101 - Minggu Ke-2
      </h1><p class="text-sm"><time datetime="2019-08-17 08:00:00" class="capitalize">17 Agustus 2019</time></p><p class="text-xs mt-2 uppercase"></p><div class="tags mt-5"><a href="/tag/Redis%20University/" class="
          inline-block
          font-sans
          font-semibold
          text-xs
          sm:text-sm
          px-2
          py-1
          mr-2
          mb-2
          rounded
          transition-color
          transition-bg
         text-gray-600 bg-gray-200 hover:text-white hover:bg-gray-700">
          Redis University
        </a><a href="/tag/Course/" class="
          inline-block
          font-sans
          font-semibold
          text-xs
          sm:text-sm
          px-2
          py-1
          mr-2
          mb-2
          rounded
          transition-color
          transition-bg
         text-gray-600 bg-gray-200 hover:text-white hover:bg-gray-700">
          Course
        </a><a href="/tag/RU101/" class="
          inline-block
          font-sans
          font-semibold
          text-xs
          sm:text-sm
          px-2
          py-1
          mr-2
          mb-2
          rounded
          transition-color
          transition-bg
         text-gray-600 bg-gray-200 hover:text-white hover:bg-gray-700">
          RU101
        </a></div></div></div></header><div class="container max-w-3xl px-5 md:px-0"><article class="pt-5 border-grey-200"><div class="markdown text-lg leading-normal text-gray-700 pb-10"><p>Ini adalah catatan minggu ke-2 dari kelas RU101 (Introduction to Redis Data Structure) di Redis University.
Buat yang belum tau apa itu Redis University, saya sudah bahas di catatan <a href="/redis-university-ru101-minggu-pertama/">minggu pertama</a>.</p>
<p>Pada minggu pertama yang dibahas adalah tentang data struktur apa saja yang terdapat pada Redis,
pada minggu ke-2 ini pembahasannya adalah:</p>
<ol>
<li>Cardinality and Capped Collections</li>
<li>Set Operations</li>
<li>Faceted Search</li>
<li>Performance &#x26; Big O Notation</li>
</ol>
<h2 id="1-cardinality-and-capped-collections"><a href="#1-cardinality-and-capped-collections" aria-hidden="true"><span class="icon icon-link"></span></a>1. Cardinality and Capped Collections</h2>
<h4 id="cardinality"><a href="#cardinality" aria-hidden="true"><span class="icon icon-link"></span></a>Cardinality</h4>
<p>Untuk mengecek cardinality dari data di Redis, perintah yang dapat digunakan adalah:</p>
<ul>
<li><code>LLEN</code>: untuk list</li>
<li><code>SCARD</code>: untuk set</li>
<li><code>ZCARD</code>: untuk sorted set</li>
</ul>
<p>Contoh:</p>
<pre class="shiki" style="background-color: #191d21"><code><span style="color: #FFFFFF">RPUSH mylist 1 2 3 4 5  </span><span style="color: #888"># set 5 item ke mylist</span>
<span style="color: #FFFFFF">LLEN mylist             </span><span style="color: #888"># mengambil banyak item di mylist</span>
<span style="color: #EFEFEF">(</span><span style="color: #FFFFFF">integer</span><span style="color: #EFEFEF">)</span><span style="color: #FFFFFF"> 5 </span>

<span style="color: #FFFFFF">SADD myset foo bar baz qux qux </span><span style="color: #888"># menambahkan item ke myset</span>
<span style="color: #FFFFFF">SCARD myset                    </span><span style="color: #888"># mengambil banyak item di myset</span>
<span style="color: #EFEFEF">(</span><span style="color: #FFFFFF">integer</span><span style="color: #EFEFEF">)</span><span style="color: #FFFFFF"> 4 </span><span style="color: #888"># hasilnya 4 karena set hanya menyimpan string unik, jadi qux ke2 tidak ditambahkan</span>

<span style="color: #FFFFFF">ZADD mysortedset 1 foo 2 bar 3 baz 4 qux 5 qux </span><span style="color: #888"># menambahkan item ke mysortedset</span>
<span style="color: #FFFFFF">ZCARD mysortedset                              </span><span style="color: #888"># mengambil banyak item di mysortedset</span>
<span style="color: #EFEFEF">(</span><span style="color: #FFFFFF">integer</span><span style="color: #EFEFEF">)</span><span style="color: #FFFFFF"> 4 </span><span style="color: #888"># hasilnya 4 karena alasan yg sama dengan set</span></code></pre>
<h4 id="capped-collections"><a href="#capped-collections" aria-hidden="true"><span class="icon icon-link"></span></a>Capped Collections</h4>
<p>Capped collections adalah list/sorted set yang sebagian nilainya telah dihapus/dipotong.</p>
<p>Ada beberapa perintah untuk memotong sebagian item didalam list dan sorted set:</p>
<ul>
<li><code>LTRIM</code>: untuk <strong>mengambil</strong> item di range index tertentu pada list (sisanya dihapus).</li>
<li><code>ZREMRANGEBYRANK</code>: untuk <strong>menghapus</strong> item di range index tertentu pada sorted set.</li>
</ul>
<p>Contoh <code>LTRIM</code>:</p>
<pre class="shiki" style="background-color: #191d21"><code><span style="color: #FFFFFF">RPUSH numbers 1 2 3 4 5 6 7 8 9 10 </span><span style="color: #888"># set numbers</span>
<span style="color: #FFFFFF">LTRIM numbers 0 -3                 </span><span style="color: #888"># ambil dari index 0 sampai dengan index terakhir - 3</span>
<span style="color: #FFFFFF">LRANGE numbers 0 -1                </span><span style="color: #888"># ambil semua numbers (setelah dipotong)</span>
<span style="color: #FFFFFF">1) </span><span style="color: #50E3C2">"1"</span>
<span style="color: #FFFFFF">2) </span><span style="color: #50E3C2">"2"</span>
<span style="color: #FFFFFF">3) </span><span style="color: #50E3C2">"3"</span>
<span style="color: #FFFFFF">4) </span><span style="color: #50E3C2">"4"</span>
<span style="color: #FFFFFF">5) </span><span style="color: #50E3C2">"5"</span>
<span style="color: #FFFFFF">6) </span><span style="color: #50E3C2">"6"</span>
<span style="color: #FFFFFF">7) </span><span style="color: #50E3C2">"7"</span>
<span style="color: #FFFFFF">8) </span><span style="color: #50E3C2">"8"</span>

<span style="color: #FFFFFF">LTRIM -5 -1 </span><span style="color: #888"># mengambil 5 item terakhir</span>
<span style="color: #FFFFFF">LRANGE numbers 0 -1</span>
<span style="color: #FFFFFF">1) </span><span style="color: #50E3C2">"4"</span>
<span style="color: #FFFFFF">2) </span><span style="color: #50E3C2">"5"</span>
<span style="color: #FFFFFF">3) </span><span style="color: #50E3C2">"6"</span>
<span style="color: #FFFFFF">4) </span><span style="color: #50E3C2">"7"</span>
<span style="color: #FFFFFF">5) </span><span style="color: #50E3C2">"8"</span></code></pre>
<p>Contoh <code>ZREMRANGEBYRANK</code>:</p>
<pre class="shiki" style="background-color: #191d21"><code><span style="color: #FFFFFF">ZADD letters 1 a 2 b 3 c 4 d 5 f 6 g 7 h  </span><span style="color: #888"># set letters</span>
<span style="color: #FFFFFF">ZREMRANGEBYRANK letters -2 -1             </span><span style="color: #888"># hapus 2 item terakhir</span>
<span style="color: #FFFFFF">ZRANGE letters 0 -1</span>
<span style="color: #FFFFFF">1) </span><span style="color: #50E3C2">"a"</span>
<span style="color: #FFFFFF">2) </span><span style="color: #50E3C2">"b"</span>
<span style="color: #FFFFFF">3) </span><span style="color: #50E3C2">"c"</span>
<span style="color: #FFFFFF">4) </span><span style="color: #50E3C2">"d"</span>
<span style="color: #FFFFFF">5) </span><span style="color: #50E3C2">"f"</span>

<span style="color: #FFFFFF">ZREMRANGEBYRANK letters 0 2 </span><span style="color: #888"># hapus 3 item pertama (index: 0, 1, 2)</span>
<span style="color: #FFFFFF">1) </span><span style="color: #50E3C2">"d"</span><span style="color: #FFFFFF">                                                                                                             2) </span><span style="color: #50E3C2">"f"</span></code></pre>
<h2 id="2-set-operations-with-sets-and-sorted-sets"><a href="#2-set-operations-with-sets-and-sorted-sets" aria-hidden="true"><span class="icon icon-link"></span></a>2. Set Operations with Sets and Sorted Sets</h2>
<p>Pada bagian ini dicontohkan cara menggunakan <code>ZINTERSTORE</code> dan <code>ZETUNIONSTORE</code> untuk menyimpan hasil <em>intersect</em> dan <em>union</em> kedalam key lain.</p>
<p>Contoh <code>ZINTERSTORE</code>: </p>
<pre class="shiki" style="background-color: #191d21"><code><span style="color: #FFFFFF">ZADD l1 1 a 2 b 3 c 4 d 5 f </span><span style="color: #888"># buat sorted set l1</span>
<span style="color: #FFFFFF">ZADD l2 1 a 2 b 3 e 5 x 6 z </span><span style="color: #888"># buat sorted set l2</span>

<span style="color: #FFFFFF">ZINTERSTORE l3 2 l1 l2      </span><span style="color: #888"># simpan hasil intersect l1 dan l2 kedalam l3</span>
<span style="color: #FFFFFF">ZRANGE l3 0 -1 WITHSCORES </span><span style="color: #888"># melihat semua isi l3</span>
<span style="color: #FFFFFF">1) </span><span style="color: #50E3C2">"a"</span><span style="color: #FFFFFF"> </span><span style="color: #888"># nilai i(0)</span>
<span style="color: #FFFFFF">2) </span><span style="color: #50E3C2">"2"</span><span style="color: #FFFFFF"> </span><span style="color: #888"># score i(0)</span>
<span style="color: #FFFFFF">3) </span><span style="color: #50E3C2">"b"</span><span style="color: #FFFFFF"> </span><span style="color: #888"># nilai i(1)</span>
<span style="color: #FFFFFF">4) </span><span style="color: #50E3C2">"4"</span><span style="color: #FFFFFF"> </span><span style="color: #888"># score i(1)</span></code></pre>
<p>Sebagai catatan <code>l3 2 l1 l2</code>, <code>2</code> yang dimaksud disitu adalah banyak key yang mau di-<em>intersect</em>,
karena disitu yang di-<em>intersect</em> adalah <code>l1</code> dan <code>l2</code>, berarti banyak keynya adalah 2.</p>
<p>Dokumentasi selengkapnya <code>ZINTERSTORE</code> bisa dilihat <a href="https://redis.io/commands/zinterstore" target="_blank" rel="nofollow noopener noreferrer">disini</a>.</p>
<p>Contoh <code>ZUNIONSTORE</code>:</p>
<pre class="shiki" style="background-color: #191d21"><code><span style="color: #FFFFFF">ZADD l1 1 a 2 b 3 c 4 d 5 f </span><span style="color: #888"># buat sorted set l1</span>
<span style="color: #FFFFFF">ZADD l2 1 a 2 b 3 e 5 x 6 z </span><span style="color: #888"># buat sorted set l2</span>

<span style="color: #FFFFFF">ZUNIONSTORE l3 2 l1 l2      </span><span style="color: #888"># simpan hasil union l1 dan l2 kedalam l3</span>
<span style="color: #FFFFFF">ZRANGE l3 0 -1 WITHSCORES </span><span style="color: #888"># melihat semua isi l3</span>
<span style="color: #FFFFFF"> 1) </span><span style="color: #50E3C2">"a"</span>
<span style="color: #FFFFFF"> 2) </span><span style="color: #50E3C2">"2"</span><span style="color: #FFFFFF"> </span><span style="color: #888"># skor si a, jadi 2 karena skornya ditambahkan antara skor a di l1 dan skor a di l2</span>
<span style="color: #FFFFFF"> 3) </span><span style="color: #50E3C2">"c"</span>
<span style="color: #FFFFFF"> 4) </span><span style="color: #50E3C2">"3"</span><span style="color: #FFFFFF"> </span><span style="color: #888"># skor si c</span>
<span style="color: #FFFFFF"> 5) </span><span style="color: #50E3C2">"e"</span>
<span style="color: #FFFFFF"> 6) </span><span style="color: #50E3C2">"3"</span><span style="color: #FFFFFF"> </span><span style="color: #888"># skor si d</span>
<span style="color: #FFFFFF"> 7) </span><span style="color: #50E3C2">"b"</span>
<span style="color: #FFFFFF"> 8) </span><span style="color: #50E3C2">"4"</span><span style="color: #FFFFFF"> </span><span style="color: #888"># skor si b</span>
<span style="color: #FFFFFF"> 9) </span><span style="color: #50E3C2">"d"</span>
<span style="color: #FFFFFF">10) </span><span style="color: #50E3C2">"4"</span><span style="color: #FFFFFF"> </span><span style="color: #888"># skor si d</span>
<span style="color: #FFFFFF">11) </span><span style="color: #50E3C2">"f"</span>
<span style="color: #FFFFFF">12) </span><span style="color: #50E3C2">"5"</span><span style="color: #FFFFFF"> </span><span style="color: #888"># skor si f</span>
<span style="color: #FFFFFF">13) </span><span style="color: #50E3C2">"x"</span>
<span style="color: #FFFFFF">14) </span><span style="color: #50E3C2">"5"</span><span style="color: #FFFFFF"> </span><span style="color: #888"># skor si x</span>
<span style="color: #FFFFFF">15) </span><span style="color: #50E3C2">"z"</span>
<span style="color: #FFFFFF">16) </span><span style="color: #50E3C2">"6"</span><span style="color: #FFFFFF"> </span><span style="color: #888"># skor si y</span>

<span style="color: #FFFFFF">ZUNIONSTORE l3 2 l1 l2 AGGREGATE MIN  </span><span style="color: #888"># simpan hasil union l1 dan l2 kedalam l3</span>
<span style="color: #FFFFFF">ZRANGE l3 0 -1 WITHSCORES </span><span style="color: #888"># melihat semua isi l3</span>
<span style="color: #FFFFFF"> 1) </span><span style="color: #50E3C2">"a"</span>
<span style="color: #FFFFFF"> 2) </span><span style="color: #50E3C2">"1"</span><span style="color: #FFFFFF"> </span><span style="color: #888"># skor si a, paling kecilnya 1</span>
<span style="color: #FFFFFF"> 3) </span><span style="color: #50E3C2">"b"</span>
<span style="color: #FFFFFF"> 4) </span><span style="color: #50E3C2">"2"</span><span style="color: #FFFFFF"> </span><span style="color: #888"># skor si b</span>
<span style="color: #FFFFFF"> 5) </span><span style="color: #50E3C2">"c"</span>
<span style="color: #FFFFFF"> 6) </span><span style="color: #50E3C2">"3"</span><span style="color: #FFFFFF"> </span><span style="color: #888"># skor si c</span>
<span style="color: #FFFFFF"> 7) </span><span style="color: #50E3C2">"e"</span><span style="color: #FFFFFF"> </span>
<span style="color: #FFFFFF"> 8) </span><span style="color: #50E3C2">"3"</span><span style="color: #FFFFFF"> </span><span style="color: #888"># skor si e</span>
<span style="color: #FFFFFF"> 9) </span><span style="color: #50E3C2">"d"</span>
<span style="color: #FFFFFF">10) </span><span style="color: #50E3C2">"4"</span><span style="color: #FFFFFF"> </span><span style="color: #888"># skor si d</span>
<span style="color: #FFFFFF">11) </span><span style="color: #50E3C2">"f"</span>
<span style="color: #FFFFFF">12) </span><span style="color: #50E3C2">"5"</span><span style="color: #FFFFFF"> </span><span style="color: #888"># skor si f</span>
<span style="color: #FFFFFF">13) </span><span style="color: #50E3C2">"x"</span>
<span style="color: #FFFFFF">14) </span><span style="color: #50E3C2">"5"</span><span style="color: #FFFFFF"> </span><span style="color: #888"># skor si x</span>
<span style="color: #FFFFFF">15) </span><span style="color: #50E3C2">"z"</span>
<span style="color: #FFFFFF">16) </span><span style="color: #50E3C2">"6"</span><span style="color: #FFFFFF"> </span><span style="color: #888"># skor si z</span></code></pre>
<p>Dokumentasi selengkapnya <code>ZUNIONSTORE</code> bisa dilihat <a href="https://redis.io/commands/zunionstore" target="_blank" rel="nofollow noopener noreferrer">disini</a>.</p>
<h2 id="3-faceted-search"><a href="#3-faceted-search" aria-hidden="true"><span class="icon icon-link"></span></a>3. Faceted Search</h2>
<p>Selanjutnya pembahasa menuju ke <em>faceted search</em>. Untuk definisi <em>faceted search</em> sendiri nggak begitu dijelaskan disini, jadi silahkan aja ke <a href="https://en.wikipedia.org/wiki/Faceted_search" target="_blank" rel="nofollow noopener noreferrer">wikipedia</a>. Yang dibahas disini hanya contoh kasus menerapkan teknik <em>faceted search</em> pada Redis menggunakan bahasa pemrograman tertentu, untuk mengurangi <em>time complexity</em> saat melakukan pencarian.</p>
<p>Sebagai contoh, kita memiliki data customers berupa JSON sebagai berikut:</p>
<pre class="shiki" style="background-color: #191d21"><code><span style="color: #EFEFEF">[</span>
<span style="color: #FFFFFF">    </span><span style="color: #EFEFEF">{</span>
<span style="color: #FFFFFF">        </span><span style="color: #2BA8FF">"ID"</span><span style="color: #EFEFEF">:</span><span style="color: #FFFFFF"> </span><span style="color: #FFF">"001"</span><span style="color: #EFEFEF">,</span>
<span style="color: #FFFFFF">        </span><span style="color: #2BA8FF">"name"</span><span style="color: #EFEFEF">:</span><span style="color: #FFFFFF"> </span><span style="color: #FFF">"John Doe"</span><span style="color: #EFEFEF">,</span>
<span style="color: #FFFFFF">        </span><span style="color: #2BA8FF">"age"</span><span style="color: #EFEFEF">:</span><span style="color: #FFFFFF"> </span><span style="color: #2BA8FF">20</span><span style="color: #EFEFEF">,</span>
<span style="color: #FFFFFF">        </span><span style="color: #2BA8FF">"city"</span><span style="color: #EFEFEF">:</span><span style="color: #FFFFFF"> </span><span style="color: #FFF">"Jakarta"</span><span style="color: #EFEFEF">,</span>
<span style="color: #FFFFFF">        </span><span style="color: #2BA8FF">"sex"</span><span style="color: #EFEFEF">:</span><span style="color: #FFFFFF"> </span><span style="color: #FFF">"male"</span>
<span style="color: #FFFFFF">    </span><span style="color: #EFEFEF">},</span>
<span style="color: #FFFFFF">    </span><span style="color: #EFEFEF">{</span>
<span style="color: #FFFFFF">        </span><span style="color: #2BA8FF">"ID"</span><span style="color: #EFEFEF">:</span><span style="color: #FFFFFF"> </span><span style="color: #FFF">"002"</span><span style="color: #EFEFEF">,</span>
<span style="color: #FFFFFF">        </span><span style="color: #2BA8FF">"name"</span><span style="color: #EFEFEF">:</span><span style="color: #FFFFFF"> </span><span style="color: #FFF">"Jane Doe"</span><span style="color: #EFEFEF">,</span>
<span style="color: #FFFFFF">        </span><span style="color: #2BA8FF">"age"</span><span style="color: #EFEFEF">:</span><span style="color: #FFFFFF"> </span><span style="color: #2BA8FF">20</span><span style="color: #EFEFEF">,</span>
<span style="color: #FFFFFF">        </span><span style="color: #2BA8FF">"city"</span><span style="color: #EFEFEF">:</span><span style="color: #FFFFFF"> </span><span style="color: #FFF">"Bandung"</span><span style="color: #EFEFEF">,</span>
<span style="color: #FFFFFF">        </span><span style="color: #2BA8FF">"sex"</span><span style="color: #EFEFEF">:</span><span style="color: #FFFFFF"> </span><span style="color: #FFF">"female"</span>
<span style="color: #FFFFFF">    </span><span style="color: #EFEFEF">}</span>
<span style="color: #EFEFEF">]</span></code></pre>
<p>Jika kita ingin melakukan pencarian terhadap kolom <code>age</code>, <code>city</code>, dan <code>sex</code>.
Selain menyimpan data customer tersebut, kita juga meyimpan indeks untuk <code>age</code>, <code>city</code>, dan <code>sex</code> berupa <code>sets</code>.</p>
<p>Sebagai contoh:</p>
<pre class="shiki" style="background-color: #191d21"><code><span style="color: #888"># simpan data lengkap</span>
<span style="color: #FFFFFF">SET customer:001 </span><span style="color: #50E3C2">"{json string data john doe}"</span>
<span style="color: #FFFFFF">SET customer:002 </span><span style="color: #50E3C2">"{json string data jane doe}"</span>

<span style="color: #FFFFFF">SADD fs:customer:age:20 001 002     </span><span style="color: #888"># menambahkan 001 dan 002 kedalam set dengan age 20</span>
<span style="color: #FFFFFF">SADD fs:customer:city:</span><span style="color: #50E3C2">"Jakarta"</span><span style="color: #FFFFFF"> 001 </span><span style="color: #888"># menambahkan customer 001 kedalam set dengan city Jakarta</span>
<span style="color: #FFFFFF">SADD fs:customer:city:</span><span style="color: #50E3C2">"Bandung"</span><span style="color: #FFFFFF"> 002 </span><span style="color: #888"># menambahkan customer 002 kedalam set dengan city Bandung</span>
<span style="color: #FFFFFF">SADD fs:customer:sex:male 001</span>
<span style="color: #FFFFFF">SADD fs:customer:sex:female 002</span></code></pre>
<blockquote>
<p>Prefix 'fs' disana maksudnya <em>faceted search</em>. Bisa diganti dengan apapun.</p>
</blockquote>
<p>Dengan begitu, jika kita ingin melakukan pencarian dengan kriteria umur 20 dan jenis kelamin pria,
hal yang pertama kita lakukan adalah mengambil <em>intersect</em> daftar ID dari <code>fs:customer:age:20</code> dan <code>fs:customer:sex:male</code>. Setelah ID didapat, barulah kita mengambil masing-masing data menggunakan <code>GET</code>.</p>
<p>Contoh:</p>
<pre class="shiki" style="background-color: #191d21"><code><span style="color: #FFFFFF">SINTER fs:customer:age:20 fs:customer:sex:male</span>
<span style="color: #FFFFFF">1) </span><span style="color: #50E3C2">"001"</span>

<span style="color: #FFFFFF">GET customer:001</span>
<span style="color: #50E3C2">"json string data john doe"</span></code></pre>
<p>Sebetulnya di kelas pakainya python, jadi hasil dari <code>SINTER</code> di looping untuk mendapatkan detail masing-masing datanya, tapi disini saya catat konsepnya aja. Pokoknya kayak gitulah tekniknya.</p>
<h4 id="hashed-key"><a href="#hashed-key" aria-hidden="true"><span class="icon icon-link"></span></a>Hashed Key</h4>
<p>Materi selanjutnya adalah membandingkan <em>faceted search</em> diatas dengan tambahan <em>hashed key</em>.
Jadi pada teknik ini, <em>time complexity</em> lebih rendah karena kita tidak perlu melakukan <code>SINTER</code> ke banyak kriteria, karena kombinasi kriterianya dibungkus menjadi hash.</p>
<p>Sebagai contoh pada data JSON sebelumnya, jika kita ingin melakukan pencarian terhadap <code>age</code>, <code>city</code>, dan <code>sex</code>.
Kita perlu membuat <code>sets</code> sebanyak kombinasi dari ke-3 kolom tersebut. Untuk algoritma hashnya sendiri bisa pakai apapun, entah md5, sha1, sha256, dsb.</p>
<p>Contoh aja nih ya, dari data JSON diatas kita akan membuat <code>list</code> kurang lebih seperti ini:</p>
<pre class="shiki" style="background-color: #191d21"><code><span style="color: #888"># indeks untuk John Doe (001)</span>
<span style="color: #FFFFFF">RPUSH </span><span style="color: #50E3C2">"hfs:customer:md5(20|Jakarta|male)"</span><span style="color: #FFFFFF"> 001</span>
<span style="color: #FFFFFF">RPUSH </span><span style="color: #50E3C2">"hfs:customer:md5(20|*|male)"</span><span style="color: #FFFFFF"> 001</span>
<span style="color: #FFFFFF">RPUSH </span><span style="color: #50E3C2">"hfs:customer:md5(20|Jakarta|*)"</span><span style="color: #FFFFFF"> 001</span>
<span style="color: #FFFFFF">RPUSH </span><span style="color: #50E3C2">"hfs:customer:md5(*|Jakarta|male)"</span><span style="color: #FFFFFF"> 001</span>
<span style="color: #FFFFFF">RPUSH </span><span style="color: #50E3C2">"hfs:customer:md5(20|*|*)"</span><span style="color: #FFFFFF"> 001</span>
<span style="color: #FFFFFF">RPUSH </span><span style="color: #50E3C2">"hfs:customer:md5(*|Jakarta|*)"</span><span style="color: #FFFFFF"> 001</span>
<span style="color: #FFFFFF">RPUSH </span><span style="color: #50E3C2">"hfs:customer:md5(*|*|male)"</span><span style="color: #FFFFFF"> 001</span>

<span style="color: #888"># indeks untuk Jane Doe (002)</span>
<span style="color: #FFFFFF">RPUSH </span><span style="color: #50E3C2">"hfs:customer:md5(20|Bandung|female)"</span><span style="color: #FFFFFF"> 002</span>
<span style="color: #FFFFFF">RPUSH </span><span style="color: #50E3C2">"hfs:customer:md5(20|*|female)"</span><span style="color: #FFFFFF"> 002</span>
<span style="color: #FFFFFF">RPUSH </span><span style="color: #50E3C2">"hfs:customer:md5(20|Bandung|*)"</span><span style="color: #FFFFFF"> 002</span>
<span style="color: #FFFFFF">RPUSH </span><span style="color: #50E3C2">"hfs:customer:md5(*|Bandung|female)"</span><span style="color: #FFFFFF"> 002</span>
<span style="color: #FFFFFF">RPUSH </span><span style="color: #50E3C2">"hfs:customer:md5(20|*|*)"</span><span style="color: #FFFFFF"> 002</span>
<span style="color: #FFFFFF">RPUSH </span><span style="color: #50E3C2">"hfs:customer:md5(*|Bandung|*)"</span><span style="color: #FFFFFF"> 002</span>
<span style="color: #FFFFFF">RPUSH </span><span style="color: #50E3C2">"hfs:customer:md5(*|*|female)"</span><span style="color: #FFFFFF"> 002</span></code></pre>
<p>Itu <code>md5(age,city,sex)</code> contoh aja ya, sebetulnya itu seharusnya hasil dari md5-nya, bukan plain text kayak gitu.</p>
<p>Intinya pada teknik <em>hashed key</em> ini kita menyimpan <strong>seluruh</strong> kombinasi key yang dimungkinkan, sehingga suatu saat kita ingin mencari data pria umur 20, kita bisa gunakan <code>LRANGE</code> sebagai berikut:</p>
<pre class="shiki" style="background-color: #191d21"><code><span style="color: #FFFFFF">LRANGE </span><span style="color: #50E3C2">"hfs:customer:md5(20|*|male)"</span><span style="color: #FFFFFF"> 0 -1</span>
<span style="color: #FFFFFF">1) </span><span style="color: #50E3C2">"001"</span></code></pre>
<p>Dari hasil itu baru deh di loop pakai bahasa pemrograman buat dapatin detail masing-masing datanya.
Menggunakan teknik seperti ini akan mengurangi <em>time complexity</em> untuk melakukan pencarian karena tidak perlu melakukan <em>intersect</em>, hanya saja semakin banyak kombinasi valuenya, keynya akan buanyak banget, dan proses maintain indeksnya jadi lebih rumit.</p>
<h2 id="4-performance--big-o-notation"><a href="#4-performance--big-o-notation" aria-hidden="true"><span class="icon icon-link"></span></a>4. Performance &#x26; Big O Notation</h2>
<p>Sebagai programmer yang main weaponnya PHP dan Javascript saya sebetulnya agak gimana gitu di pembahasan minggu ini. Redis kan memang diciptakan untuk masalah performa, itu kenapa dia menghadirkan solusi in-memory database ini.
Tapi di minggu ini dia bahas masalah performa seakan menggunakan bahasa C dan RAM sebagai penyimpanan masih kurang meyakinkan buat mereka hahhha.</p>
<p>Tapi setelah saya pikir-pikir lagi, justru karena fokus mereka di performa, makanya mereka menekankan masalah performa sampai sebegininya.</p>
<p>Pada bagian ini, pembahasannya adalah tentang performa dan big O notation untuk beberapa perintah Redis.
Sebetulnya pada dokumentasi Redis, setiap perintah itu udah dicantumin big O notationnya, tapi disini mereka menjelaskan lebih detail untuk beberapa perintah.</p>
<p>Ini contoh perhitungan Big O Notation untuk beberapa perintah Redis:</p>
<pre class="shiki" style="background-color: #191d21"><code><span style="color: #FFFFFF">SET foo 10 </span><span style="color: #888"># O(1)</span>
<span style="color: #FFFFFF">SET bar 12 </span><span style="color: #888"># O(1)</span>

<span style="color: #FFFFFF">MSET foo 10 bar 12 baz 100 </span><span style="color: #888"># O(N), N = 3 (foo, bar , dan baz)</span>

<span style="color: #FFFFFF">DEL foo </span><span style="color: #888"># O(1)</span>
<span style="color: #FFFFFF">DEL bar baz </span><span style="color: #888"># O(N), N = 2</span>

<span style="color: #FFFFFF">SADD myset 1 2 3 4 5 </span><span style="color: #888"># O(N), N = 5</span>
<span style="color: #FFFFFF">DEL myset </span><span style="color: #888"># O(M), M = 5</span>

<span style="color: #FFFFFF">SADD set:a 1 2 3 4 5 </span><span style="color: #888"># O(5)</span>
<span style="color: #FFFFFF">SADD set:b 1 2 3 4 5 6 7 8 9 </span><span style="color: #888"># O(9)</span>

<span style="color: #FFFFFF">SINTER set:b set:a </span><span style="color: #888"># O(N * M), N = 5 (count set terkecil), M = 2 (set:a dan set:b) =&gt; O(5 * 2) =&gt; O(10)</span>

<span style="color: #FFFFFF">RPUSH numbers 1 2 3 4 5 6 7 8 9 0 </span><span style="color: #888"># O(10)</span>
<span style="color: #FFFFFF">LRANGE numbers 3 5 </span><span style="color: #888"># O(S + N), S = 4 (start + 1), N = 3 (end - start + 1) =&gt; O(4 + 3) =&gt; O(7) </span></code></pre>
<hr>
<p>Begitulah pertemuan minggu ke-2. Dah ya, saya mau lanjut ke RU102J.</p>
</div></article></div><section class="mb-10 py-16 bg-gray-200 text-gray-700"><div class="container max-w-3xl px-5 md:px-0"><div class="flex"><div class="w-10/12 mx-auto"><h4 class="text-2xl font-semibold mb-4 -mt-4">Suka artikel ini?</h4><p class="mb-8">
          Saya biasanya share artikel-artikel terbaru via
          <strong class="text-gray-600">facebook</strong> atau <strong class="text-gray-600">fanpage foobarology</strong> saya.
          Kalau mau dapat updatenya, di add friend/like/follow aja link-link dibawah ini ðŸ˜ƒ
        </p><a target="_blank" href="https://www.facebook.com/em.sifa" class="px-4 py-2 text-lg text-white bg-gray-600 hover:bg-blue-500 rounded">
          Facebook
        </a><a target="_blank" href="https://www.facebook.com/foobarology" class="ml-3 px-4 py-2 text-lg text-white bg-gray-600 hover:bg-blue-500 rounded">
          Foobarology
        </a></div></div></div></section><footer class="text-gray-700 text-sm leading-normal flex flex-wrap justify-between mx-auto max-w-3xl px-6 sm:px-12 pb-8 sm:pb-10"><div class="w-full sm:w-1/2 mb-4 sm:mb-0 text-gray-600"><p>Â© 2019</p></div><div class="w-full sm:w-1/2"><nav><ul class="flex sm:justify-end -mx-2"><li class="px-2"><a href="/" class="text-gray-600 border-b border-transparent hover:border-gray-400 transition-border-color active">Home</a></li><li class="px-2"><a href="/sitemap.xml" class="text-gray-600 border-b border-transparent hover:border-gray-400 transition-border-color">Sitemap</a></li><li class="px-2"><a href="/feed.xml" class="text-gray-600 border-b border-transparent hover:border-gray-400 transition-border-color">RSS Feed</a></li></ul></nav></div></footer></main></div>
    <script src="/assets/js/app.b453242b.js" defer></script><script src="/assets/js/page--src-templates-post-vue.5be0044e.js" defer></script>
  </body>
</html>
